<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.554">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Data Science With Python - Intermediate Data Visualization with Seaborn</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./Project-A_Visual_History_of_Nobel_Prize_Winners.html" rel="next">
<link href="./9_Python_Data_Science_Toolbox_Part2.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./10_Intermediate_Data_Visualization_with_Seaborn.html">Intermediate Data Visualization with Seaborn</a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Data Science With Python</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1_Introduction_to_Python.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction to Python</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2_Intermediate_Python.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Intermediate Python</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./3_Data_Manipulation_with_pandas.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data Manipulation with pandas</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./4_Joining_Data_with_pandas.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Joining Data with pandas</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./5_Introduction_to_statistics_in_python.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction to Statistics in Python</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./6_Introduction_to_Data_Visualization_with_Matplotlib.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction to Data Visualization with Matplotlib</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./7_Introduction_to_Data_Visualization_with_Seaborn.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction to Data Visualization with Seaborn</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./8_Python_Data_Science_Toolbox_Part1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Python Data Science Toolbox (Part 1)</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./9_Python_Data_Science_Toolbox_Part2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Python Data Science Toolbox (Part 2)</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./10_Intermediate_Data_Visualization_with_Seaborn.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Intermediate Data Visualization with Seaborn</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Project-A_Visual_History_of_Nobel_Prize_Winners.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Project: A Visual History of Nobel Prize Winners</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Project-Netflix_movies.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Project: Investigating Netflix Movies</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Project-Exploring_NYC_Public_School_Test_Result_Scores.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Project: Exploring NYC Public School Test Result Scores</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#explore-datasets" id="toc-explore-datasets" class="nav-link active" data-scroll-target="#explore-datasets">Explore Datasets</a></li>
  <li><a href="#reading-a-csv-file" id="toc-reading-a-csv-file" class="nav-link" data-scroll-target="#reading-a-csv-file">Reading a csv file</a></li>
  <li><a href="#comparing-a-histogram-and-displot" id="toc-comparing-a-histogram-and-displot" class="nav-link" data-scroll-target="#comparing-a-histogram-and-displot">Comparing a histogram and displot</a></li>
  <li><a href="#plot-a-histogram" id="toc-plot-a-histogram" class="nav-link" data-scroll-target="#plot-a-histogram">Plot a histogram</a></li>
  <li><a href="#rug-plot-and-kde-shading" id="toc-rug-plot-and-kde-shading" class="nav-link" data-scroll-target="#rug-plot-and-kde-shading">Rug plot and kde shading</a></li>
  <li><a href="#create-a-regression-plot" id="toc-create-a-regression-plot" class="nav-link" data-scroll-target="#create-a-regression-plot">Create a regression plot</a></li>
  <li><a href="#plotting-multiple-variables" id="toc-plotting-multiple-variables" class="nav-link" data-scroll-target="#plotting-multiple-variables">Plotting multiple variables</a></li>
  <li><a href="#facetting-multiple-regressions" id="toc-facetting-multiple-regressions" class="nav-link" data-scroll-target="#facetting-multiple-regressions">Facetting multiple regressions</a></li>
  <li><a href="#theme-examples-with-sns.set_style" id="toc-theme-examples-with-sns.set_style" class="nav-link" data-scroll-target="#theme-examples-with-sns.set_style">Theme examples with sns.set_style()</a></li>
  <li><a href="#setting-the-default-style" id="toc-setting-the-default-style" class="nav-link" data-scroll-target="#setting-the-default-style">Setting the default style</a></li>
  <li><a href="#comparing-styles" id="toc-comparing-styles" class="nav-link" data-scroll-target="#comparing-styles">Comparing styles</a></li>
  <li><a href="#removing-spines" id="toc-removing-spines" class="nav-link" data-scroll-target="#removing-spines">Removing spines</a></li>
  <li><a href="#colors-in-seaborn" id="toc-colors-in-seaborn" class="nav-link" data-scroll-target="#colors-in-seaborn">Colors in Seaborn</a>
  <ul class="collapse">
  <li><a href="#defining-a-color-for-a-plot" id="toc-defining-a-color-for-a-plot" class="nav-link" data-scroll-target="#defining-a-color-for-a-plot">Defining a color for a plot</a></li>
  <li><a href="#palettes" id="toc-palettes" class="nav-link" data-scroll-target="#palettes">Palettes</a>
  <ul class="collapse">
  <li><a href="#displaying-palettes" id="toc-displaying-palettes" class="nav-link" data-scroll-target="#displaying-palettes">Displaying Palettes</a></li>
  </ul></li>
  <li><a href="#matplotlib-color-codes" id="toc-matplotlib-color-codes" class="nav-link" data-scroll-target="#matplotlib-color-codes">Matplotlib color codes</a></li>
  <li><a href="#using-default-palettes" id="toc-using-default-palettes" class="nav-link" data-scroll-target="#using-default-palettes">Using default palettes</a></li>
  <li><a href="#creating-custom-palettes" id="toc-creating-custom-palettes" class="nav-link" data-scroll-target="#creating-custom-palettes">Creating Custom Palettes</a></li>
  </ul></li>
  <li><a href="#customization-with-matplotlib" id="toc-customization-with-matplotlib" class="nav-link" data-scroll-target="#customization-with-matplotlib">Customization with matplotlib</a>
  <ul class="collapse">
  <li><a href="#matplotlib-axes" id="toc-matplotlib-axes" class="nav-link" data-scroll-target="#matplotlib-axes">Matplotlib Axes</a></li>
  <li><a href="#further-customizations" id="toc-further-customizations" class="nav-link" data-scroll-target="#further-customizations">Further Customizations</a></li>
  <li><a href="#combining-plots" id="toc-combining-plots" class="nav-link" data-scroll-target="#combining-plots">Combining Plots</a></li>
  <li><a href="#using-matplotlib-axes" id="toc-using-matplotlib-axes" class="nav-link" data-scroll-target="#using-matplotlib-axes">Using matplotlib axes</a></li>
  <li><a href="#additional-plot-customizations" id="toc-additional-plot-customizations" class="nav-link" data-scroll-target="#additional-plot-customizations">Additional plot customizations</a></li>
  <li><a href="#adding-annotations" id="toc-adding-annotations" class="nav-link" data-scroll-target="#adding-annotations">Adding annotations</a></li>
  <li><a href="#multiple-plots" id="toc-multiple-plots" class="nav-link" data-scroll-target="#multiple-plots">Multiple plots</a></li>
  </ul></li>
  <li><a href="#categorical-plottypes" id="toc-categorical-plottypes" class="nav-link" data-scroll-target="#categorical-plottypes">Categorical PlotTypes</a>
  <ul class="collapse">
  <li><a href="#categorical-plot-types" id="toc-categorical-plot-types" class="nav-link" data-scroll-target="#categorical-plot-types">1. Categorical Plot Types</a></li>
  <li><a href="#categorical-data" id="toc-categorical-data" class="nav-link" data-scroll-target="#categorical-data">2. Categorical Data</a></li>
  <li><a href="#plot-types---show-each-observation" id="toc-plot-types---show-each-observation" class="nav-link" data-scroll-target="#plot-types---show-each-observation">3. Plot types - show each observation</a></li>
  <li><a href="#plot-types---abstract-representations" id="toc-plot-types---abstract-representations" class="nav-link" data-scroll-target="#plot-types---abstract-representations">4. Plot types - abstract representations</a></li>
  <li><a href="#plot-types---statistical-estimates" id="toc-plot-types---statistical-estimates" class="nav-link" data-scroll-target="#plot-types---statistical-estimates">5. Plot types - statistical estimates</a></li>
  <li><a href="#plots-of-each-observation---stripplot" id="toc-plots-of-each-observation---stripplot" class="nav-link" data-scroll-target="#plots-of-each-observation---stripplot">6. Plots of each observation - stripplot</a></li>
  <li><a href="#plots-of-each-observation---swarmplot" id="toc-plots-of-each-observation---swarmplot" class="nav-link" data-scroll-target="#plots-of-each-observation---swarmplot">7. Plots of each observation - swarmplot</a></li>
  <li><a href="#abstract-representations---boxplot" id="toc-abstract-representations---boxplot" class="nav-link" data-scroll-target="#abstract-representations---boxplot">8. Abstract representations - boxplot</a></li>
  <li><a href="#abstract-representation---violinplot" id="toc-abstract-representation---violinplot" class="nav-link" data-scroll-target="#abstract-representation---violinplot">9. Abstract representation - violinplot</a></li>
  <li><a href="#abstract-representation---boxenplot" id="toc-abstract-representation---boxenplot" class="nav-link" data-scroll-target="#abstract-representation---boxenplot">10. Abstract representation - boxenplot</a></li>
  <li><a href="#statistical-estimates---barplot" id="toc-statistical-estimates---barplot" class="nav-link" data-scroll-target="#statistical-estimates---barplot">11. Statistical estimates - barplot</a></li>
  <li><a href="#statistical-estimates---pointplot" id="toc-statistical-estimates---pointplot" class="nav-link" data-scroll-target="#statistical-estimates---pointplot">12. Statistical estimates - pointplot</a></li>
  <li><a href="#statistical-estimates---countplot" id="toc-statistical-estimates---countplot" class="nav-link" data-scroll-target="#statistical-estimates---countplot">13. Statistical estimates - countplot</a></li>
  <li><a href="#plots-of-each-observation---stripplot-1" id="toc-plots-of-each-observation---stripplot-1" class="nav-link" data-scroll-target="#plots-of-each-observation---stripplot-1">Plots of each observation - stripplot</a></li>
  <li><a href="#plots-of-each-observation---swarmplot-1" id="toc-plots-of-each-observation---swarmplot-1" class="nav-link" data-scroll-target="#plots-of-each-observation---swarmplot-1">Plots of each observation - swarmplot</a></li>
  <li><a href="#abstract-representations---boxplot-1" id="toc-abstract-representations---boxplot-1" class="nav-link" data-scroll-target="#abstract-representations---boxplot-1">Abstract representations - boxplot</a></li>
  <li><a href="#abstract-representation---violinplot-1" id="toc-abstract-representation---violinplot-1" class="nav-link" data-scroll-target="#abstract-representation---violinplot-1">Abstract representation - violinplot</a></li>
  <li><a href="#abstract-representation---boxenplot-1" id="toc-abstract-representation---boxenplot-1" class="nav-link" data-scroll-target="#abstract-representation---boxenplot-1">Abstract representation - boxenplot</a></li>
  <li><a href="#statistical-estimates---barplot-1" id="toc-statistical-estimates---barplot-1" class="nav-link" data-scroll-target="#statistical-estimates---barplot-1">Statistical estimates - barplot</a></li>
  <li><a href="#statistical-estimates---pointplot-1" id="toc-statistical-estimates---pointplot-1" class="nav-link" data-scroll-target="#statistical-estimates---pointplot-1">Statistical estimates - pointplot</a></li>
  <li><a href="#stripplot-and-swarmplot" id="toc-stripplot-and-swarmplot" class="nav-link" data-scroll-target="#stripplot-and-swarmplot">stripplot() and swarmplot()</a></li>
  <li><a href="#boxplots-violinplots-and-boxenplots" id="toc-boxplots-violinplots-and-boxenplots" class="nav-link" data-scroll-target="#boxplots-violinplots-and-boxenplots">boxplots, violinplots and boxenplots</a></li>
  <li><a href="#barplots-pointplots-and-countplots" id="toc-barplots-pointplots-and-countplots" class="nav-link" data-scroll-target="#barplots-pointplots-and-countplots">barplots, pointplots and countplots</a></li>
  <li><a href="#regression-and-residual-plots" id="toc-regression-and-residual-plots" class="nav-link" data-scroll-target="#regression-and-residual-plots">Regression and residual plots</a></li>
  <li><a href="#regression-plot-parameters" id="toc-regression-plot-parameters" class="nav-link" data-scroll-target="#regression-plot-parameters">Regression plot parameters</a></li>
  <li><a href="#binning-data" id="toc-binning-data" class="nav-link" data-scroll-target="#binning-data">Binning data</a></li>
  <li><a href="#creating-heatmaps" id="toc-creating-heatmaps" class="nav-link" data-scroll-target="#creating-heatmaps">Creating heatmaps</a></li>
  <li><a href="#customizing-heatmaps" id="toc-customizing-heatmaps" class="nav-link" data-scroll-target="#customizing-heatmaps">Customizing heatmaps</a></li>
  <li><a href="#building-a-facetgrid" id="toc-building-a-facetgrid" class="nav-link" data-scroll-target="#building-a-facetgrid">Building a FacetGrid</a>
  <ul class="collapse">
  <li><a href="#instructions-24" id="toc-instructions-24" class="nav-link" data-scroll-target="#instructions-24">Instructions</a></li>
  </ul></li>
  <li><a href="#using-a-catplot" id="toc-using-a-catplot" class="nav-link" data-scroll-target="#using-a-catplot">Using a catplot</a></li>
  <li><a href="#using-a-lmplot" id="toc-using-a-lmplot" class="nav-link" data-scroll-target="#using-a-lmplot">Using a lmplot</a></li>
  <li><a href="#building-a-pairgrid" id="toc-building-a-pairgrid" class="nav-link" data-scroll-target="#building-a-pairgrid">Building a PairGrid</a></li>
  <li><a href="#using-a-pairplot" id="toc-using-a-pairplot" class="nav-link" data-scroll-target="#using-a-pairplot">Using a pairplot</a></li>
  <li><a href="#additional-pairplots" id="toc-additional-pairplots" class="nav-link" data-scroll-target="#additional-pairplots">Additional pairplots</a></li>
  <li><a href="#building-a-jointgrid-and-jointplot" id="toc-building-a-jointgrid-and-jointplot" class="nav-link" data-scroll-target="#building-a-jointgrid-and-jointplot">Building a JointGrid and jointplot</a></li>
  <li><a href="#jointplots-and-regression" id="toc-jointplots-and-regression" class="nav-link" data-scroll-target="#jointplots-and-regression">Jointplots and regression</a></li>
  <li><a href="#complex-jointplots" id="toc-complex-jointplots" class="nav-link" data-scroll-target="#complex-jointplots">Complex jointplots</a></li>
  <li><a href="#bee-swarm-plot-example" id="toc-bee-swarm-plot-example" class="nav-link" data-scroll-target="#bee-swarm-plot-example">Bee swarm plot example</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Intermediate Data Visualization with Seaborn</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>Run the hidden code cell below to import the data used in this course.</p>
<div id="34979e3b" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Importing the course packages</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Importing the course datasets</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>bike_share <span class="op">=</span> pd.read_csv(<span class="st">'datasets/bike_share.csv'</span>)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>college_data <span class="op">=</span> pd.read_csv(<span class="st">'datasets/college_datav3.csv'</span>)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>daily_show <span class="op">=</span> pd.read_csv(<span class="st">'datasets/daily_show_guests_cleaned.csv'</span>)</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>insurance <span class="op">=</span> pd.read_csv(<span class="st">'datasets/insurance_premiums.csv'</span>)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>grants <span class="op">=</span> pd.read_csv(<span class="st">'datasets/schoolimprovement2010grants.csv'</span>, index_col<span class="op">=</span><span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="explore-datasets" class="level2">
<h2 class="anchored" data-anchor-id="explore-datasets">Explore Datasets</h2>
<p>Use the DataFrames imported in the first cell to explore the data and practice your skills! - Use <code>lmplot()</code> to look at the relationship between <code>temp</code> and <code>total_rentals</code> from <code>bike_share</code>. Plot two regression lines for working and non-working days (<code>workingday</code>). - Create a heat map from <code>daily_show</code> to see how the types of guests (<code>Group</code>) have changed yearly. - Explore the variables from <code>insurance</code> and their relationship by creating pairwise plots and experimenting with different variables and types of plots. Additionally, you can use color to segment visually for region. - Make sure to add titles and labels to your plots and adjust their format for readability!</p>
</section>
<section id="reading-a-csv-file" class="level2">
<h2 class="anchored" data-anchor-id="reading-a-csv-file">Reading a csv file</h2>
<p>Before you analyze data, you will need to read the data into a pandas DataFrame. In this exercise, you will be looking at data from US School Improvement Grants in 2010. This program gave nearly $4B to schools to help them renovate or improve their programs.</p>
<p>This first step in most data analysis is to import pandas and seaborn and read a data file in order to analyze it further.</p>
<p>This course introduces a lot of new concepts, so if you ever need a quick refresher, download the Seaborn Cheat Sheet and keep it handy!</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Instructions
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Import pandas and seaborn using the standard naming conventions. - The path to the csv file is stored in the grant_file variable. - Use pandas to read the file. - Store the resulting DataFrame in the variable df.</li>
</ul>
</div>
</div>
<div id="caf9ed93" class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>grant_file<span class="op">=</span><span class="st">"datasets/schoolimprovement2010grants.csv"</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="co"># import all modules</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the DataFrame</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.read_csv(grant_file)</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>df.head(<span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="2">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Unnamed: 0</th>
<th data-quarto-table-cell-role="th">School Name</th>
<th data-quarto-table-cell-role="th">City</th>
<th data-quarto-table-cell-role="th">State</th>
<th data-quarto-table-cell-role="th">District Name</th>
<th data-quarto-table-cell-role="th">Model Selected</th>
<th data-quarto-table-cell-role="th">Award_Amount</th>
<th data-quarto-table-cell-role="th">Region</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>0</td>
<td>HOGARTH KINGEEKUK MEMORIAL SCHOOL</td>
<td>SAVOONGA</td>
<td>AK</td>
<td>BERING STRAIT SCHOOL DISTRICT</td>
<td>Transformation</td>
<td>471014</td>
<td>West</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>1</td>
<td>AKIACHAK SCHOOL</td>
<td>AKIACHAK</td>
<td>AK</td>
<td>YUPIIT SCHOOL DISTRICT</td>
<td>Transformation</td>
<td>520579</td>
<td>West</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>2</td>
<td>GAMBELL SCHOOL</td>
<td>GAMBELL</td>
<td>AK</td>
<td>BERING STRAIT SCHOOL DISTRICT</td>
<td>Transformation</td>
<td>449592</td>
<td>West</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
</section>
<section id="comparing-a-histogram-and-displot" class="level2">
<h2 class="anchored" data-anchor-id="comparing-a-histogram-and-displot">Comparing a histogram and displot</h2>
<p>The pandas library supports simple plotting of data, which is very convenient when data is already likely to be in a pandas DataFrame.</p>
<p>Seaborn generally does more statistical analysis on data and can provide more sophisticated insight into the data. In this exercise, we will compare a pandas histogram vs the seaborn displot. ## Instructions - Use the pandas’ plot.hist() function to plot a histogram of the Award_Amount column. - Use Seaborn’s displot() function to plot a distribution plot of the same column.</p>
<div id="0426b9af" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Display pandas histogram</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'Award_Amount'</span>].plot.hist()</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Clear out the pandas histogram</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>plt.clf()</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Display a Seaborn displot</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>sns.displot(df[<span class="st">'Award_Amount'</span>])</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Clear the displot</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>plt.clf()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-4-output-1.png" width="593" height="428" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<pre><code>&lt;Figure size 672x480 with 0 Axes&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-4-output-3.png" width="470" height="470" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<pre><code>&lt;Figure size 672x480 with 0 Axes&gt;</code></pre>
</div>
</div>
</section>
<section id="plot-a-histogram" class="level2">
<h2 class="anchored" data-anchor-id="plot-a-histogram">Plot a histogram</h2>
<p>The displot() function will return a histogram by default. The displot() can also create a KDE or rug plot which are useful ways to look at the data. Seaborn can also combine these plots so you can perform more meaningful analysis.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Instructions
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Create a displot for the data. - Explicitly pass in the number 20 for the number of bins in the histogram. - Display the plot using plt.show().</li>
</ul>
</div>
</div>
<div id="2507c860" class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a displot</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>sns.displot(df[<span class="st">'Award_Amount'</span>],</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>             bins<span class="op">=</span><span class="dv">20</span>)</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the plot</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-5-output-1.png" width="470" height="470" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="rug-plot-and-kde-shading" class="level2">
<h2 class="anchored" data-anchor-id="rug-plot-and-kde-shading">Rug plot and kde shading</h2>
<p>Now that you understand some function arguments for displot(), we can continue further refining the output. This process of creating a visualization and updating it in an incremental fashion is a useful and common approach to look at data from multiple perspectives.</p>
<p>Seaborn excels at making this process simple.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Instructions
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Create a displot of the Award_Amount column in the df. - Configure it to show a shaded kde plot (using the kind and fill parameters). - Add a rug plot above the x axis (using the rug parameter). - Display the plot.</li>
</ul>
</div>
</div>
<div id="d305dc6e" class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a displot of the Award Amount</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>sns.displot(df[<span class="st">'Award_Amount'</span>],</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>             kind<span class="op">=</span><span class="st">'kde'</span>,</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>             rug<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>             fill<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the results</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-6-output-1.png" width="470" height="470" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="create-a-regression-plot" class="level2">
<h2 class="anchored" data-anchor-id="create-a-regression-plot">Create a regression plot</h2>
<p>For this set of exercises, we will be looking at FiveThirtyEight’s data on which US State has the worst drivers. The data set includes summary level information about fatal accidents as well as insurance premiums for each state as of 2010.</p>
<p>In this exercise, we will look at the difference between the regression plotting functions.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Instructions
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>The data is available in the dataframe called df. - Create a regression plot using regplot() with “insurance_losses” on the x axis and “premiums” on the y axis. - Create a regression plot of “premiums” versus “insurance_losses” using lmplot(). Display the plot.</li>
</ul>
</div>
</div>
<div id="a1f1f14d" class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>df<span class="op">=</span>pd.read_csv(<span class="st">"datasets/insurance_premiums.csv"</span>)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a regression plot of premiums vs. insurance_losses</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>sns.regplot(data<span class="op">=</span>df, x<span class="op">=</span><span class="st">'insurance_losses'</span>, y<span class="op">=</span><span class="st">'premiums'</span>)</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the plot</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-7-output-1.png" width="613" height="429" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<div id="900e02c0" class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create an lmplot of premiums vs. insurance_losses</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>sns.lmplot(data<span class="op">=</span>df,x<span class="op">=</span><span class="st">'insurance_losses'</span>,y<span class="op">=</span><span class="st">'premiums'</span>)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the second plot</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-8-output-1.png" width="470" height="470" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="plotting-multiple-variables" class="level2">
<h2 class="anchored" data-anchor-id="plotting-multiple-variables">Plotting multiple variables</h2>
<p>Since we are using lmplot() now, we can look at the more complex interactions of data. This data set includes geographic information by state and area. It might be interesting to see if there is a difference in relationships based on the Region of the country.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Instructions
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Use lmplot() to look at the relationship between insurance_losses and premiums. - Plot a regression line for each Region of the country.</li>
</ul>
</div>
</div>
<div id="d3e7d8be" class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a regression plot using hue</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>sns.lmplot(data<span class="op">=</span>df,</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>           x<span class="op">=</span><span class="st">"insurance_losses"</span>,</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>           y<span class="op">=</span><span class="st">"premiums"</span>,</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>           hue<span class="op">=</span><span class="st">"Region"</span>)</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Show the results</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-9-output-1.png" width="574" height="470" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="facetting-multiple-regressions" class="level2">
<h2 class="anchored" data-anchor-id="facetting-multiple-regressions">Facetting multiple regressions</h2>
<p>lmplot() allows us to facet the data across multiple rows and columns. In the previous plot, the multiple lines were difficult to read in one plot. We can try creating multiple plots by Region to see if that is a more useful visualization.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Instructions
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Use lmplot() to look at the relationship between insurance_losses and premiums. - Create a plot for each Region of the country. - Display the plots across multiple rows.</li>
</ul>
</div>
</div>
<div id="738ce840" class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a regression plot with multiple rows</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>sns.lmplot(data<span class="op">=</span>df,</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>           x<span class="op">=</span><span class="st">"insurance_losses"</span>,</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>           y<span class="op">=</span><span class="st">"premiums"</span>,</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>           row<span class="op">=</span><span class="st">"Region"</span>)</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Show the plot</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-10-output-1.png" width="470" height="1910" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="theme-examples-with-sns.set_style" class="level2">
<h2 class="anchored" data-anchor-id="theme-examples-with-sns.set_style">Theme examples with sns.set_style()</h2>
<div id="77d3e39d" class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> style <span class="kw">in</span> [<span class="st">'white'</span>,<span class="st">'dark'</span>,<span class="st">'whitegrid'</span>,<span class="st">'darkgrid'</span>,<span class="st">'ticks'</span>]:    </span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>    sns.set_style(style)    </span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>    sns.displot(df[<span class="st">'premiums'</span>])    </span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>    plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-11-output-1.png" width="470" height="470" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-11-output-2.png" width="470" height="470" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-11-output-3.png" width="470" height="470" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-11-output-4.png" width="470" height="470" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-11-output-5.png" width="470" height="470" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="setting-the-default-style" class="level2">
<h2 class="anchored" data-anchor-id="setting-the-default-style">Setting the default style</h2>
<p>For these exercises, we will be looking at fair market rent values calculated by the US Housing and Urban Development Department. This data is used to calculate guidelines for several federal programs. The actual values for rents vary greatly across the US. We can use this data to get some experience with configuring Seaborn plots.</p>
<p>All of the necessary imports for seaborn, pandas and matplotlib have been completed. The data is stored in the pandas DataFrame df.</p>
<p>By the way, if you haven’t downloaded it already, check out the Seaborn Cheat Sheet. It includes an overview of the most important concepts, functions and methods and might come in handy if you ever need a quick refresher!</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Instructions
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Plot a pandas histogram without adjusting the style. - Set Seaborn’s default style. - Create another pandas histogram of the fmr_2 column which represents fair market rent for a 2-bedroom apartment.</li>
</ul>
</div>
</div>
<div id="4b35eef4" class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the pandas histogram</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'premiums'</span>].plot.hist()</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>plt.clf()</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Set the default seaborn style</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>sns.<span class="bu">set</span>()</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the pandas histogram again</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'premiums'</span>].plot.hist()</span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>plt.clf()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-12-output-1.png" width="581" height="410" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-12-output-2.png" width="589" height="415" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<pre><code>&lt;Figure size 672x480 with 0 Axes&gt;</code></pre>
</div>
</div>
</section>
<section id="comparing-styles" class="level2">
<h2 class="anchored" data-anchor-id="comparing-styles">Comparing styles</h2>
<p>Seaborn supports setting different styles that can control the aesthetics of the final plot. In this exercise, you will plot the same data in two different styles in order to see how the styles change the output.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Instructions
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Create a displot() of the fmr_2 column in df using a dark style. Use plt.clf() to clear the figure. - Create the same displot() of fmr_2 using a whitegrid style. Clear the plot after showing it.</li>
</ul>
</div>
</div>
<div id="10644b8d" class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>sns.set_style(<span class="st">'dark'</span>)</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>sns.displot(df[<span class="st">'premiums'</span>])</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>plt.clf()</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>sns.set_style(<span class="st">'whitegrid'</span>)</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>sns.displot(df[<span class="st">'premiums'</span>])</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>plt.clf()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-13-output-1.png" width="464" height="464" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<pre><code>&lt;Figure size 672x480 with 0 Axes&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-13-output-3.png" width="464" height="464" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<pre><code>&lt;Figure size 672x480 with 0 Axes&gt;</code></pre>
</div>
</div>
</section>
<section id="removing-spines" class="level2">
<h2 class="anchored" data-anchor-id="removing-spines">Removing spines</h2>
<p>In general, visualizations should minimize extraneous markings so that the data speaks for itself. Seaborn allows you to remove the lines on the top, bottom, left and right axis, which are often called spines.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Instructions
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Use a white style for the plot. - Create a lmplot() comparing the pop2010 and the fmr_2 columns. - Remove the top and right spines using despine().</li>
</ul>
</div>
</div>
<div id="e5056b67" class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>df.head(<span class="dv">2</span>)</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Set the style to white</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>sns.set_style(<span class="st">'white'</span>)</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a regression plot</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>sns.lmplot(data<span class="op">=</span>df,</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>           x<span class="op">=</span><span class="st">'premiums'</span>,</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>           y<span class="op">=</span><span class="st">'insurance_losses'</span>)</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove the spines</span></span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>sns.despine()</span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Show the plot and clear the figure</span></span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a>plt.clf()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-14-output-1.png" width="464" height="464" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<pre><code>&lt;Figure size 672x480 with 0 Axes&gt;</code></pre>
</div>
</div>
</section>
<section id="colors-in-seaborn" class="level1">
<h1>Colors in Seaborn</h1>
<section id="defining-a-color-for-a-plot" class="level2">
<h2 class="anchored" data-anchor-id="defining-a-color-for-a-plot">Defining a color for a plot</h2>
<div id="5e7c5fe2" class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>df<span class="op">=</span>college_data</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>sns.<span class="bu">set</span>(color_codes<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>sns.displot(df[<span class="st">'Tuition'</span>], color<span class="op">=</span><span class="st">'g'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-15-output-1.png" width="464" height="464" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="palettes" class="level2">
<h2 class="anchored" data-anchor-id="palettes">Palettes</h2>
<div id="cb7c4b46" class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>palettes <span class="op">=</span> [<span class="st">'deep'</span>, <span class="st">'muted'</span>, <span class="st">'pastel'</span>, <span class="st">'bright'</span>, <span class="st">'dark'</span>,<span class="st">'colorblind'</span>]</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> p <span class="kw">in</span> palettes:</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>    sns.set_palette(p)</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>    sns.displot(df[<span class="st">'Tuition'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-16-output-1.png" width="464" height="464" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-16-output-2.png" width="464" height="464" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-16-output-3.png" width="464" height="464" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-16-output-4.png" width="464" height="464" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-16-output-5.png" width="464" height="464" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-16-output-6.png" width="464" height="464" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<section id="displaying-palettes" class="level3">
<h3 class="anchored" data-anchor-id="displaying-palettes">Displaying Palettes</h3>
<div id="265a63e2" class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>palettes <span class="op">=</span> [<span class="st">'deep'</span>, <span class="st">'muted'</span>, <span class="st">'pastel'</span>, <span class="st">'bright'</span>,<span class="st">'dark'</span>,<span class="st">'colorblind'</span>]</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> p <span class="kw">in</span> palettes:    </span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>    sns.set_palette(p)    </span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>    sns.palplot(sns.color_palette())    </span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>    plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-17-output-1.png" width="763" height="93" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-17-output-2.png" width="763" height="93" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-17-output-3.png" width="763" height="93" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-17-output-4.png" width="763" height="93" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-17-output-5.png" width="763" height="93" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-17-output-6.png" width="763" height="93" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="matplotlib-color-codes" class="level2">
<h2 class="anchored" data-anchor-id="matplotlib-color-codes">Matplotlib color codes</h2>
<p>Seaborn offers several options for modifying the colors of your visualizations. The simplest approach is to explicitly state the color of the plot. A quick way to change colors is to use the standard matplotlib color codes.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Instructions
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Set the default Seaborn style and enable the matplotlib color codes. - Create a displot for the fmr_3 column using matplotlib’s magenta (m) color code.</li>
</ul>
</div>
</div>
<div id="50629977" class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Set style, enable color code, and create a magenta displot</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>sns.<span class="bu">set</span>(color_codes<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>sns.displot(df[<span class="st">'Tuition'</span>], color<span class="op">=</span><span class="st">'m'</span>)</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Show the plot</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-18-output-1.png" width="464" height="464" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="using-default-palettes" class="level2">
<h2 class="anchored" data-anchor-id="using-default-palettes">Using default palettes</h2>
<p>Seaborn includes several default palettes that can be easily applied to your plots. In this example, we will look at the impact of two different palettes on the same displot.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Instructions
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Create a for loop to show the difference between the bright and colorblind palette. - Set the palette using the set_palette() function. - Use a displot of the fmr_3 column.</li>
</ul>
</div>
</div>
<div id="94ebe395" class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Loop through differences between bright and colorblind palettes</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> p <span class="kw">in</span> [<span class="st">'bright'</span>, <span class="st">'colorblind'</span>]:</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>    sns.set_palette(p)</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>    sns.displot(df[<span class="st">'Tuition'</span>])</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>    plt.show()</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Clear the plots    </span></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>    plt.clf()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-19-output-1.png" width="464" height="464" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<pre><code>&lt;Figure size 672x480 with 0 Axes&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-19-output-3.png" width="464" height="464" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<pre><code>&lt;Figure size 672x480 with 0 Axes&gt;</code></pre>
</div>
</div>
</section>
<section id="creating-custom-palettes" class="level2">
<h2 class="anchored" data-anchor-id="creating-custom-palettes">Creating Custom Palettes</h2>
<p>Choosing a cohesive palette that works for your data can be time consuming. Fortunately, Seaborn provides the color_palette() function to create your own custom sequential, categorical, or diverging palettes. Seaborn also makes it easy to view your palettes by using the palplot() function.</p>
<p>In this exercise, you can experiment with creating different palettes.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Instructions
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Create and display a Purples sequential palette containing 8 colors. - Create and display a palette with 10 colors using the husl system. - Create and display a diverging palette with 6 colors coolwarm.</li>
</ul>
</div>
</div>
<div id="bfeee482" class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>sns.palplot(sns.color_palette(<span class="st">"Purples"</span>,<span class="dv">8</span>))</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>sns.palplot(sns.color_palette(<span class="st">"husl"</span>,<span class="dv">10</span>))</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>sns.palplot(sns.color_palette(<span class="st">"coolwarm"</span>,<span class="dv">6</span>))</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-20-output-1.png" width="614" height="93" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-20-output-2.png" width="763" height="93" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-20-output-3.png" width="466" height="93" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="customization-with-matplotlib" class="level1">
<h1>Customization with matplotlib</h1>
<section id="matplotlib-axes" class="level2">
<h2 class="anchored" data-anchor-id="matplotlib-axes">Matplotlib Axes</h2>
<ul>
<li>Most customization available through matplotlib</li>
<li>Axes objectsAxes can be passed to seaborn functions</li>
</ul>
<div id="f4bc3aa1" class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots()</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>sns.histplot(df[<span class="st">'Tuition'</span>], ax<span class="op">=</span>ax)</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>ax.<span class="bu">set</span>(xlabel<span class="op">=</span><span class="st">'Tuition 2013-14'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-21-output-1.png" width="597" height="435" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="further-customizations" class="level2">
<h2 class="anchored" data-anchor-id="further-customizations">Further Customizations</h2>
<ul>
<li>The axes object supports many common customizations</li>
</ul>
<div id="524a14ef" class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots()</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>sns.histplot(df[<span class="st">'Tuition'</span>], ax<span class="op">=</span>ax)</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>ax.<span class="bu">set</span>(xlabel<span class="op">=</span><span class="st">"Tuition 2013-14"</span>,       ylabel<span class="op">=</span><span class="st">"Distribution"</span>, xlim<span class="op">=</span>(<span class="dv">0</span>, <span class="dv">50000</span>), title<span class="op">=</span><span class="st">"2013-14 Tuition and Fees Distribution"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="21">
<pre><code>[Text(0.5, 0, 'Tuition 2013-14'),
 Text(0, 0.5, 'Distribution'),
 (0.0, 50000.0),
 Text(0.5, 1.0, '2013-14 Tuition and Fees Distribution')]</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-22-output-2.png" width="618" height="455" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="combining-plots" class="level2">
<h2 class="anchored" data-anchor-id="combining-plots">Combining Plots</h2>
<ul>
<li>It is possible to combine and configure multiple plots</li>
</ul>
<div id="3ce078ba" class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>fig, (ax0, ax1) <span class="op">=</span> plt.subplots(nrows<span class="op">=</span><span class="dv">1</span>, ncols<span class="op">=</span><span class="dv">2</span>,sharey<span class="op">=</span><span class="va">True</span>, figsize<span class="op">=</span>(<span class="dv">7</span>,<span class="dv">4</span>))</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>sns.histplot(df[<span class="st">'Tuition'</span>], stat<span class="op">=</span><span class="st">'density'</span>, ax<span class="op">=</span>ax0)</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>sns.histplot(df.query(<span class="st">'Regions == "South East"'</span>)[<span class="st">'Tuition'</span>], stat<span class="op">=</span><span class="st">'density'</span>, ax<span class="op">=</span>ax1)</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>ax1.<span class="bu">set</span>(xlabel<span class="op">=</span><span class="st">'Tuition (South East)'</span>, xlim<span class="op">=</span>(<span class="dv">0</span>, <span class="dv">70000</span>))</span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>ax1.axvline(x<span class="op">=</span><span class="dv">20000</span>, label<span class="op">=</span><span class="st">'My Budget'</span>, linestyle<span class="op">=</span><span class="st">'--'</span>)</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>ax1.legend()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-23-output-1.png" width="581" height="376" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="using-matplotlib-axes" class="level2">
<h2 class="anchored" data-anchor-id="using-matplotlib-axes">Using matplotlib axes</h2>
<p>Seaborn uses matplotlib as the underlying library for creating plots. Most of the time, you can use the Seaborn API to modify your visualizations but sometimes it is helpful to use matplotlib’s functions to customize your plots. The most important object in this case is matplotlib’s axes.</p>
<p>Once you have an axes object, you can perform a lot of customization of your plot.</p>
<p>In these examples, the US HUD data is loaded in the dataframe df and all libraries are imported.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Instructions
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Use plt.subplots() to create a axes and figure objects. - Plot a histplot of column fmr_3 on the axes. - Set a more useful label on the x axis of “3 Bedroom Fair Market Rent”.</li>
</ul>
</div>
</div>
<div id="a4670348" class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a figure and axes</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots()</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the distribution of data</span></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>sns.histplot(df[<span class="st">'Tuition'</span>], ax<span class="op">=</span>ax)</span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a more descriptive x axis label</span></span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>ax.<span class="bu">set</span>(xlabel<span class="op">=</span><span class="st">"Tuition fees"</span>)</span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Show the plot</span></span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-24-output-1.png" width="597" height="435" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="additional-plot-customizations" class="level2">
<h2 class="anchored" data-anchor-id="additional-plot-customizations">Additional plot customizations</h2>
<p>The matplotlib API supports many common customizations such as labeling axes, adding titles, and setting limits. Let’s complete another customization exercise.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Instructions
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Create a histplot of the fmr_1 column. - Modify the x axis label to say “1 Bedroom Fair Market Rent”. - Change the x axis limits to be between 100 and 1500. - Add a descriptive title of “US Rent” to the plot.</li>
</ul>
</div>
</div>
<div id="94629d5e" class="cell" data-execution_count="24">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a figure and axes</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots()</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the distribution of 1 bedroom rents</span></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>sns.histplot(df[<span class="st">'Tuition'</span>], ax<span class="op">=</span>ax)</span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Modify the properties of the plot</span></span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>ax.<span class="bu">set</span>(xlabel<span class="op">=</span><span class="st">"Tuition"</span>,</span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>       xlim<span class="op">=</span>(<span class="dv">500</span>,<span class="dv">50000</span>),</span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a>       title<span class="op">=</span><span class="st">"University Tuition fees"</span>)</span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the plot</span></span>
<span id="cb33-13"><a href="#cb33-13" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-25-output-1.png" width="618" height="455" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="adding-annotations" class="level2">
<h2 class="anchored" data-anchor-id="adding-annotations">Adding annotations</h2>
<p>Each of the enhancements we have covered can be combined together. In the next exercise, we can annotate our distribution plot to include lines that show the mean and median rent prices.</p>
<p>For this example, the palette has been changed to bright using sns.set_palette()</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Instructions
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Create a figure and axes. - Plot the fmr_1 column distribution. - Add a vertical line using axvline for the median and mean of the values which are already defined.</li>
</ul>
</div>
</div>
<div id="badd3b40" class="cell" data-execution_count="25">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>mean<span class="op">=</span>df[<span class="st">'Tuition'</span>].mean()</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>median<span class="op">=</span>df[<span class="st">'Tuition'</span>].median()</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a figure and axes. Then plot the data</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots()</span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>sns.histplot(df[<span class="st">'Tuition'</span>], ax<span class="op">=</span>ax)</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Customize the labels and limits</span></span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>ax.<span class="bu">set</span>(xlabel<span class="op">=</span><span class="st">"Tuition"</span>, xlim<span class="op">=</span>(<span class="dv">100</span>,<span class="dv">50000</span>), title<span class="op">=</span><span class="st">"Tuition Fees"</span>)</span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Add vertical lines for the median and mean</span></span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a>ax.axvline(x<span class="op">=</span>median, color<span class="op">=</span><span class="st">'m'</span>, label<span class="op">=</span><span class="st">'Median'</span>, linestyle<span class="op">=</span><span class="st">'--'</span>, linewidth<span class="op">=</span><span class="dv">2</span>)</span>
<span id="cb34-12"><a href="#cb34-12" aria-hidden="true" tabindex="-1"></a>ax.axvline(x<span class="op">=</span>mean, color<span class="op">=</span><span class="st">'b'</span>, label<span class="op">=</span><span class="st">'Mean'</span>, linestyle<span class="op">=</span><span class="st">'-'</span>, linewidth<span class="op">=</span><span class="dv">2</span>)</span>
<span id="cb34-13"><a href="#cb34-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-14"><a href="#cb34-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Show the legend and plot the data</span></span>
<span id="cb34-15"><a href="#cb34-15" aria-hidden="true" tabindex="-1"></a>ax.legend()</span>
<span id="cb34-16"><a href="#cb34-16" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-26-output-1.png" width="618" height="455" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="multiple-plots" class="level2">
<h2 class="anchored" data-anchor-id="multiple-plots">Multiple plots</h2>
<p>For the final exercise we will plot a comparison of the fair market rents for 1-bedroom and 2-bedroom apartments.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Instructions
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Create two axes objects, ax0 and ax1. - Plot fmr_1 on ax0 and fmr_2 on ax1. - Display the plots side by side.</li>
</ul>
</div>
</div>
<div id="62416fa0" class="cell" data-execution_count="26">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a plot with 1 row and 2 columns that share the y axis label</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>fig, (ax0, ax1) <span class="op">=</span> plt.subplots(nrows<span class="op">=</span><span class="dv">1</span>, ncols<span class="op">=</span><span class="dv">2</span>, sharey<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the distribution of 1 bedroom apartments on ax0</span></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>sns.histplot(df[<span class="st">'PCTPELL'</span>], ax<span class="op">=</span>ax0)</span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>ax0.<span class="bu">set</span>(xlabel<span class="op">=</span><span class="st">"PCTPELL"</span>, xlim<span class="op">=</span>(<span class="fl">0.1</span>,<span class="fl">0.9</span>))</span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the distribution of 2 bedroom apartments on ax1</span></span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a>sns.histplot(df[<span class="st">'PCTFLOAN'</span>], ax<span class="op">=</span>ax1)</span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a>ax1.<span class="bu">set</span>(xlabel<span class="op">=</span><span class="st">"PCTFLOAN"</span>, xlim<span class="op">=</span>(<span class="fl">0.1</span>,<span class="fl">0.9</span>))</span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the plot</span></span>
<span id="cb35-13"><a href="#cb35-13" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-27-output-1.png" width="597" height="435" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="categorical-plottypes" class="level1">
<h1>Categorical PlotTypes</h1>
<section id="categorical-plot-types" class="level3">
<h3 class="anchored" data-anchor-id="categorical-plot-types">1. Categorical Plot Types</h3>
<p>In the first two chapters of this course, we covered the basics of how to use the Seaborn API for creating and customizing plots using different Seaborn and matplotlib approaches. These chapters provide the foundation for exploring additional plot types. This lesson will focus on the many different categorical plots that Seaborn supports.</p>
</section>
<section id="categorical-data" class="level3">
<h3 class="anchored" data-anchor-id="categorical-data">2. Categorical Data</h3>
<p>In our earlier exercises we looked at distribution and linear regression plots, used on numerical values. Seaborn also supports many plot types with categorical data. Categorical data is data which includes a limited or fixed number of values and is most useful when combined with numeric data.</p>
</section>
<section id="plot-types---show-each-observation" class="level3">
<h3 class="anchored" data-anchor-id="plot-types---show-each-observation">3. Plot types - show each observation</h3>
<p>Seaborn breaks categorical data plots into three groups. The first group includes the <code>stripplot()</code> and the <code>swarmplot()</code>, which show all of the individual observations on the plot.</p>
</section>
<section id="plot-types---abstract-representations" class="level3">
<h3 class="anchored" data-anchor-id="plot-types---abstract-representations">4. Plot types - abstract representations</h3>
<p>The second category contains the familiar <code>boxplot()</code>, as well as a <code>violinplot()</code> and <code>boxenplot()</code>. These plots show an abstract representation of the categorical data.</p>
</section>
<section id="plot-types---statistical-estimates" class="level3">
<h3 class="anchored" data-anchor-id="plot-types---statistical-estimates">5. Plot types - statistical estimates</h3>
<p>The final group of plots show statistical estimates of the categorical variables. The <code>barplot()</code> and <code>pointplot()</code> contain useful summaries of data. The <code>countplot()</code> shows the number of instances of each observation.</p>
</section>
<section id="plots-of-each-observation---stripplot" class="level3">
<h3 class="anchored" data-anchor-id="plots-of-each-observation---stripplot">6. Plots of each observation - stripplot</h3>
<p>Seaborn’s <code>stripplot()</code> shows every observation in the dataset. In some cases, it can be difficult to see individual data points. We can use the jitter parameter in order to more easily see how the Average Covered Charges vary by Diagnostic Reimbursement Code.</p>
</section>
<section id="plots-of-each-observation---swarmplot" class="level3">
<h3 class="anchored" data-anchor-id="plots-of-each-observation---swarmplot">7. Plots of each observation - swarmplot</h3>
<p>We can plot a more sophisticated visualization of all the data using a <code>swarmplot()</code>. This plot uses a complex algorithm to place the observations in a manner where they do not overlap. The downside of this approach is that the <code>swarmplot()</code> does not scale well to large datasets.</p>
</section>
<section id="abstract-representations---boxplot" class="level3">
<h3 class="anchored" data-anchor-id="abstract-representations---boxplot">8. Abstract representations - boxplot</h3>
<p>The next category of plots show abstract representations of the data. A <code>boxplot()</code> is the most common of this type. This plot is used to show several measures related to the distribution of the data, including the median, upper and lower quartiles, as well as outliers.</p>
</section>
<section id="abstract-representation---violinplot" class="level3">
<h3 class="anchored" data-anchor-id="abstract-representation---violinplot">9. Abstract representation - violinplot</h3>
<p>The <code>violinplot()</code> is a combination of a kernel density plot and a box plot and can be suitable for providing an alternative view of the distribution of data. Because the plot uses a kernel density calculation it does not show all data points. This can be useful for displaying large datasets but it can be computationally intensive to create.</p>
</section>
<section id="abstract-representation---boxenplot" class="level3">
<h3 class="anchored" data-anchor-id="abstract-representation---boxenplot">10. Abstract representation - boxenplot</h3>
<p>The final plot in the grouping is the <code>boxenplot()</code>, which is an enhanced box plot. The API is the same as the <code>boxplot()</code> and <code>violinplot()</code> but can scale more effectively to large datasets. The <code>boxenplot()</code> is a hybrid between a <code>boxplot()</code> and a <code>violinplot()</code> and is relatively quick to render and easy to interpret.</p>
</section>
<section id="statistical-estimates---barplot" class="level3">
<h3 class="anchored" data-anchor-id="statistical-estimates---barplot">11. Statistical estimates - barplot</h3>
<p>The final category of plots are statistical estimates of the data. The <code>barplot()</code> shows an estimate of the value as well as a confidence interval. In this example, we include the hue parameter described in Chapter 1, which provides another useful way for us to look at this categorical data.</p>
</section>
<section id="statistical-estimates---pointplot" class="level3">
<h3 class="anchored" data-anchor-id="statistical-estimates---pointplot">12. Statistical estimates - pointplot</h3>
<p>The <code>pointplot()</code> is similar to the <code>barplot()</code> in that it shows a summary measure and confidence interval. A <code>pointplot()</code> can be very useful for observing how values change across categorical values.</p>
</section>
<section id="statistical-estimates---countplot" class="level3">
<h3 class="anchored" data-anchor-id="statistical-estimates---countplot">13. Statistical estimates - countplot</h3>
<p>The final categorical plot is the <code>countplot()</code>, which displays the number of instances of each variable.</p>
</section>
<section id="plots-of-each-observation---stripplot-1" class="level2">
<h2 class="anchored" data-anchor-id="plots-of-each-observation---stripplot-1">Plots of each observation - stripplot</h2>
<div id="1bbfc740" class="cell" data-execution_count="27">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>df<span class="op">=</span>insurance</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="27">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">State</th>
<th data-quarto-table-cell-role="th">fatal_collisions</th>
<th data-quarto-table-cell-role="th">fatal_collisions_speeding</th>
<th data-quarto-table-cell-role="th">fatal_collisions_alc</th>
<th data-quarto-table-cell-role="th">fatal_collisions_not_distracted</th>
<th data-quarto-table-cell-role="th">fatal_collisions_no_hist</th>
<th data-quarto-table-cell-role="th">premiums</th>
<th data-quarto-table-cell-role="th">insurance_losses</th>
<th data-quarto-table-cell-role="th">Region</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Alabama</td>
<td>18.8</td>
<td>39</td>
<td>30</td>
<td>96</td>
<td>80</td>
<td>784.55</td>
<td>145.08</td>
<td>South</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Alaska</td>
<td>18.1</td>
<td>41</td>
<td>25</td>
<td>90</td>
<td>94</td>
<td>1053.48</td>
<td>133.93</td>
<td>West</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Arizona</td>
<td>18.6</td>
<td>35</td>
<td>28</td>
<td>84</td>
<td>96</td>
<td>899.47</td>
<td>110.35</td>
<td>West</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Arkansas</td>
<td>22.4</td>
<td>18</td>
<td>26</td>
<td>94</td>
<td>95</td>
<td>827.34</td>
<td>142.39</td>
<td>South</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>California</td>
<td>12.0</td>
<td>35</td>
<td>28</td>
<td>91</td>
<td>89</td>
<td>878.41</td>
<td>165.63</td>
<td>West</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<div id="f0ef17a0" class="cell" data-execution_count="28">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>sns.stripplot(data<span class="op">=</span>df, y<span class="op">=</span><span class="st">"Region"</span>, x<span class="op">=</span><span class="st">"insurance_losses"</span>, jitter<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-29-output-1.png" width="647" height="435" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="plots-of-each-observation---swarmplot-1" class="level2">
<h2 class="anchored" data-anchor-id="plots-of-each-observation---swarmplot-1">Plots of each observation - swarmplot</h2>
<div id="4b0212d3" class="cell" data-execution_count="29">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>sns.swarmplot(data<span class="op">=</span>df, y<span class="op">=</span><span class="st">"Region"</span>, x<span class="op">=</span><span class="st">"insurance_losses"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-30-output-1.png" width="647" height="435" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="abstract-representations---boxplot-1" class="level2">
<h2 class="anchored" data-anchor-id="abstract-representations---boxplot-1">Abstract representations - boxplot</h2>
<div id="a8e03f9d" class="cell" data-execution_count="30">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>sns.boxplot(data<span class="op">=</span>df, y<span class="op">=</span><span class="st">"Region"</span>, x<span class="op">=</span><span class="st">"insurance_losses"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-31-output-1.png" width="647" height="435" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="abstract-representation---violinplot-1" class="level2">
<h2 class="anchored" data-anchor-id="abstract-representation---violinplot-1">Abstract representation - violinplot</h2>
<div id="8ad0f382" class="cell" data-execution_count="31">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>sns.violinplot(data<span class="op">=</span>df, y<span class="op">=</span><span class="st">"Region"</span>, x<span class="op">=</span><span class="st">"insurance_losses"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-32-output-1.png" width="636" height="435" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="abstract-representation---boxenplot-1" class="level2">
<h2 class="anchored" data-anchor-id="abstract-representation---boxenplot-1">Abstract representation - boxenplot</h2>
<div id="b3cc1e05" class="cell" data-execution_count="32">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>sns.boxenplot(data<span class="op">=</span>df, y<span class="op">=</span><span class="st">"Region"</span>, x<span class="op">=</span><span class="st">"insurance_losses"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-33-output-1.png" width="647" height="435" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="statistical-estimates---barplot-1" class="level2">
<h2 class="anchored" data-anchor-id="statistical-estimates---barplot-1">Statistical estimates - barplot</h2>
<div id="d1f952db" class="cell" data-execution_count="33">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>sns.barplot(data<span class="op">=</span>df, y<span class="op">=</span><span class="st">"Region"</span>, x<span class="op">=</span><span class="st">"insurance_losses"</span>)<span class="co">#,hue='State')</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-34-output-1.png" width="636" height="435" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="statistical-estimates---pointplot-1" class="level2">
<h2 class="anchored" data-anchor-id="statistical-estimates---pointplot-1">Statistical estimates - pointplot</h2>
<div id="e4dc8fae" class="cell" data-execution_count="34">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>sns.pointplot(data<span class="op">=</span>df, y<span class="op">=</span><span class="st">"Region"</span>, x<span class="op">=</span><span class="st">"insurance_losses"</span>)<span class="co">#,hue='State')</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-35-output-1.png" width="636" height="435" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="stripplot-and-swarmplot" class="level2">
<h2 class="anchored" data-anchor-id="stripplot-and-swarmplot">stripplot() and swarmplot()</h2>
<p>Many datasets have categorical data and Seaborn supports several useful plot types for this data. In this example, we will continue to look at the 2010 School Improvement data and segment the data by the types of school improvement models used.</p>
<p>As a refresher, here is the KDE distribution of the Award Amounts:</p>
<p>While this plot is useful, there is a lot more we can learn by looking at the individual Award_Amount and how the amounts are distributed among the four categories.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Instructions
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Create a stripplot of the Award_Amount with the Model Selected on the y axis with jitter enabled. - Create a swarmplot() of the same data, but also include the hue by Region.</li>
</ul>
</div>
</div>
<div id="6466d5be" class="cell" data-execution_count="35">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>df<span class="op">=</span>college_data</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df.columns)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Index(['INSTNM', 'OPEID', 'REGION', 'SAT_AVG_ALL', 'PCTPELL', 'PCTFLOAN',
       'ADM_RATE_ALL', 'UG', 'AVGFACSAL', 'COMPL_RPY_5YR_RT', 'DEBT_MDN',
       'MEDIAN_HH_INC', 'ICLEVEL', 'HIGHDEG', 'CONTROL', 'WOMENONLY',
       'MENONLY', 'LOCALE', 'Tuition', 'Degree_Type', 'Ownership', 'Regions',
       'Locales', 'Locale_Short'],
      dtype='object')</code></pre>
</div>
</div>
<div id="ba3a71d9" class="cell" data-execution_count="36">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="36">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">INSTNM</th>
<th data-quarto-table-cell-role="th">OPEID</th>
<th data-quarto-table-cell-role="th">REGION</th>
<th data-quarto-table-cell-role="th">SAT_AVG_ALL</th>
<th data-quarto-table-cell-role="th">PCTPELL</th>
<th data-quarto-table-cell-role="th">PCTFLOAN</th>
<th data-quarto-table-cell-role="th">ADM_RATE_ALL</th>
<th data-quarto-table-cell-role="th">UG</th>
<th data-quarto-table-cell-role="th">AVGFACSAL</th>
<th data-quarto-table-cell-role="th">COMPL_RPY_5YR_RT</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">CONTROL</th>
<th data-quarto-table-cell-role="th">WOMENONLY</th>
<th data-quarto-table-cell-role="th">MENONLY</th>
<th data-quarto-table-cell-role="th">LOCALE</th>
<th data-quarto-table-cell-role="th">Tuition</th>
<th data-quarto-table-cell-role="th">Degree_Type</th>
<th data-quarto-table-cell-role="th">Ownership</th>
<th data-quarto-table-cell-role="th">Regions</th>
<th data-quarto-table-cell-role="th">Locales</th>
<th data-quarto-table-cell-role="th">Locale_Short</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Alabama A &amp; M University</td>
<td>100200</td>
<td>5</td>
<td>850.0</td>
<td>0.7249</td>
<td>0.8159</td>
<td>0.653841</td>
<td>4380.0</td>
<td>7017.0</td>
<td>0.477631579</td>
<td>...</td>
<td>1</td>
<td>0.0</td>
<td>0.0</td>
<td>12.0</td>
<td>13435.0</td>
<td>Graduate</td>
<td>Public</td>
<td>South East</td>
<td>City: Midsize</td>
<td>City</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>University of Alabama at Birmingham</td>
<td>105200</td>
<td>5</td>
<td>1147.0</td>
<td>0.3505</td>
<td>0.5218</td>
<td>0.604275</td>
<td>10331.0</td>
<td>10221.0</td>
<td>0.673230442</td>
<td>...</td>
<td>1</td>
<td>0.0</td>
<td>0.0</td>
<td>12.0</td>
<td>16023.0</td>
<td>Graduate</td>
<td>Public</td>
<td>South East</td>
<td>City: Midsize</td>
<td>City</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Amridge University</td>
<td>2503400</td>
<td>5</td>
<td>NaN</td>
<td>0.7455</td>
<td>0.8781</td>
<td>NaN</td>
<td>98.0</td>
<td>3217.0</td>
<td>0.636363636</td>
<td>...</td>
<td>2</td>
<td>0.0</td>
<td>0.0</td>
<td>12.0</td>
<td>8862.0</td>
<td>Graduate</td>
<td>Private non-profit</td>
<td>South East</td>
<td>City: Midsize</td>
<td>City</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>University of Alabama in Huntsville</td>
<td>105500</td>
<td>5</td>
<td>1221.0</td>
<td>0.3179</td>
<td>0.4589</td>
<td>0.811971</td>
<td>5220.0</td>
<td>9514.0</td>
<td>0.762222222</td>
<td>...</td>
<td>1</td>
<td>0.0</td>
<td>0.0</td>
<td>12.0</td>
<td>18661.0</td>
<td>Graduate</td>
<td>Public</td>
<td>South East</td>
<td>City: Midsize</td>
<td>City</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Alabama State University</td>
<td>100500</td>
<td>5</td>
<td>844.0</td>
<td>0.7567</td>
<td>0.7692</td>
<td>0.463858</td>
<td>4348.0</td>
<td>7940.0</td>
<td>0.43006993</td>
<td>...</td>
<td>1</td>
<td>0.0</td>
<td>0.0</td>
<td>12.0</td>
<td>7400.0</td>
<td>Graduate</td>
<td>Public</td>
<td>South East</td>
<td>City: Midsize</td>
<td>City</td>
</tr>
</tbody>
</table>

<p>5 rows × 24 columns</p>
</div>
</div>
</div>
</div>
<div id="90e20885" class="cell" data-execution_count="37">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the stripplot</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>sns.stripplot(data<span class="op">=</span>df,</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>         x<span class="op">=</span><span class="st">'Tuition'</span>,</span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>         y<span class="op">=</span><span class="st">'Regions'</span>,</span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>         jitter<span class="op">=</span><span class="va">True</span></span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a>         )</span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-38-output-1.png" width="702" height="435" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<div id="c8e8875f" class="cell" data-execution_count="38">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the stripplot</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>sns.swarmplot(data<span class="op">=</span>df,</span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>         x<span class="op">=</span><span class="st">'Tuition'</span>,</span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>         y<span class="op">=</span><span class="st">'Regions'</span>,</span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>         hue<span class="op">=</span><span class="st">'Ownership'</span></span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>         )</span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>/Users/00110139/miniforge3/envs/TF2/lib/python3.9/site-packages/seaborn/categorical.py:3399: UserWarning: 90.9% of the points cannot be placed; you may want to decrease the size of the markers or use stripplot.
  warnings.warn(msg, UserWarning)
/Users/00110139/miniforge3/envs/TF2/lib/python3.9/site-packages/seaborn/categorical.py:3399: UserWarning: 82.5% of the points cannot be placed; you may want to decrease the size of the markers or use stripplot.
  warnings.warn(msg, UserWarning)
/Users/00110139/miniforge3/envs/TF2/lib/python3.9/site-packages/seaborn/categorical.py:3399: UserWarning: 82.7% of the points cannot be placed; you may want to decrease the size of the markers or use stripplot.
  warnings.warn(msg, UserWarning)
/Users/00110139/miniforge3/envs/TF2/lib/python3.9/site-packages/seaborn/categorical.py:3399: UserWarning: 81.2% of the points cannot be placed; you may want to decrease the size of the markers or use stripplot.
  warnings.warn(msg, UserWarning)
/Users/00110139/miniforge3/envs/TF2/lib/python3.9/site-packages/seaborn/categorical.py:3399: UserWarning: 60.8% of the points cannot be placed; you may want to decrease the size of the markers or use stripplot.
  warnings.warn(msg, UserWarning)
/Users/00110139/miniforge3/envs/TF2/lib/python3.9/site-packages/seaborn/categorical.py:3399: UserWarning: 65.8% of the points cannot be placed; you may want to decrease the size of the markers or use stripplot.
  warnings.warn(msg, UserWarning)
/Users/00110139/miniforge3/envs/TF2/lib/python3.9/site-packages/seaborn/categorical.py:3399: UserWarning: 86.8% of the points cannot be placed; you may want to decrease the size of the markers or use stripplot.
  warnings.warn(msg, UserWarning)
/Users/00110139/miniforge3/envs/TF2/lib/python3.9/site-packages/seaborn/categorical.py:3399: UserWarning: 85.9% of the points cannot be placed; you may want to decrease the size of the markers or use stripplot.
  warnings.warn(msg, UserWarning)
/Users/00110139/miniforge3/envs/TF2/lib/python3.9/site-packages/seaborn/categorical.py:3399: UserWarning: 70.4% of the points cannot be placed; you may want to decrease the size of the markers or use stripplot.
  warnings.warn(msg, UserWarning)
/Users/00110139/miniforge3/envs/TF2/lib/python3.9/site-packages/seaborn/categorical.py:3399: UserWarning: 91.1% of the points cannot be placed; you may want to decrease the size of the markers or use stripplot.
  warnings.warn(msg, UserWarning)
/Users/00110139/miniforge3/envs/TF2/lib/python3.9/site-packages/seaborn/categorical.py:3399: UserWarning: 82.6% of the points cannot be placed; you may want to decrease the size of the markers or use stripplot.
  warnings.warn(msg, UserWarning)
/Users/00110139/miniforge3/envs/TF2/lib/python3.9/site-packages/seaborn/categorical.py:3399: UserWarning: 83.1% of the points cannot be placed; you may want to decrease the size of the markers or use stripplot.
  warnings.warn(msg, UserWarning)
/Users/00110139/miniforge3/envs/TF2/lib/python3.9/site-packages/seaborn/categorical.py:3399: UserWarning: 81.4% of the points cannot be placed; you may want to decrease the size of the markers or use stripplot.
  warnings.warn(msg, UserWarning)
/Users/00110139/miniforge3/envs/TF2/lib/python3.9/site-packages/seaborn/categorical.py:3399: UserWarning: 61.2% of the points cannot be placed; you may want to decrease the size of the markers or use stripplot.
  warnings.warn(msg, UserWarning)
/Users/00110139/miniforge3/envs/TF2/lib/python3.9/site-packages/seaborn/categorical.py:3399: UserWarning: 66.4% of the points cannot be placed; you may want to decrease the size of the markers or use stripplot.
  warnings.warn(msg, UserWarning)
/Users/00110139/miniforge3/envs/TF2/lib/python3.9/site-packages/seaborn/categorical.py:3399: UserWarning: 87.1% of the points cannot be placed; you may want to decrease the size of the markers or use stripplot.
  warnings.warn(msg, UserWarning)</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-39-output-2.png" width="702" height="435" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="boxplots-violinplots-and-boxenplots" class="level2">
<h2 class="anchored" data-anchor-id="boxplots-violinplots-and-boxenplots">boxplots, violinplots and boxenplots</h2>
<p>Seaborn’s categorical plots also support several abstract representations of data. The API for each of these is the same so it is very convenient to try each plot and see if the data lends itself to one over the other.</p>
<p>In this exercise, we will use the color palette options presented in Chapter 2 to show how colors can easily be included in the plots.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Instructions
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Create and display a boxplot of the data with Award_Amount on the x axis and Model Selected on the y axis.</li>
<li>Use Award_Amount on the x axis and Model Selected on the y axis. - Create and display an boxenplot using the Paired palette and the Region column as the hue.</li>
</ul>
</div>
</div>
<div id="f5fc09b3" class="cell" data-execution_count="39">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the DataFrame</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>df_grant <span class="op">=</span> pd.read_csv(<span class="st">"datasets/schoolimprovement2010grants.csv"</span>)</span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a boxplot</span></span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a>sns.boxplot(data<span class="op">=</span>df_grant,</span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a>         x<span class="op">=</span><span class="st">'Award_Amount'</span>,</span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a>         y<span class="op">=</span><span class="st">'Model Selected'</span>)</span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-8"><a href="#cb50-8" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb50-9"><a href="#cb50-9" aria-hidden="true" tabindex="-1"></a>plt.clf()</span>
<span id="cb50-10"><a href="#cb50-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-11"><a href="#cb50-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a violinplot with the husl palette</span></span>
<span id="cb50-12"><a href="#cb50-12" aria-hidden="true" tabindex="-1"></a>sns.violinplot(data<span class="op">=</span>df_grant,</span>
<span id="cb50-13"><a href="#cb50-13" aria-hidden="true" tabindex="-1"></a>         x<span class="op">=</span><span class="st">'Award_Amount'</span>,</span>
<span id="cb50-14"><a href="#cb50-14" aria-hidden="true" tabindex="-1"></a>         y<span class="op">=</span><span class="st">'Model Selected'</span>,</span>
<span id="cb50-15"><a href="#cb50-15" aria-hidden="true" tabindex="-1"></a>         palette<span class="op">=</span><span class="st">'husl'</span>)</span>
<span id="cb50-16"><a href="#cb50-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-17"><a href="#cb50-17" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb50-18"><a href="#cb50-18" aria-hidden="true" tabindex="-1"></a>plt.clf()</span>
<span id="cb50-19"><a href="#cb50-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-20"><a href="#cb50-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a boxenplot with the Paired palette and the Region column as the hue</span></span>
<span id="cb50-21"><a href="#cb50-21" aria-hidden="true" tabindex="-1"></a>sns.boxenplot(data<span class="op">=</span>df_grant,</span>
<span id="cb50-22"><a href="#cb50-22" aria-hidden="true" tabindex="-1"></a>         x<span class="op">=</span><span class="st">'Award_Amount'</span>,</span>
<span id="cb50-23"><a href="#cb50-23" aria-hidden="true" tabindex="-1"></a>         y<span class="op">=</span><span class="st">'Model Selected'</span>,</span>
<span id="cb50-24"><a href="#cb50-24" aria-hidden="true" tabindex="-1"></a>         palette<span class="op">=</span><span class="st">'Paired'</span>,</span>
<span id="cb50-25"><a href="#cb50-25" aria-hidden="true" tabindex="-1"></a>         hue<span class="op">=</span><span class="st">'Region'</span>)</span>
<span id="cb50-26"><a href="#cb50-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-27"><a href="#cb50-27" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb50-28"><a href="#cb50-28" aria-hidden="true" tabindex="-1"></a>plt.clf()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-40-output-1.png" width="671" height="435" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>/var/folders/53/yp3kynfd7rn5y13c2wwfm33rmgtrfb/T/ipykernel_38419/1096742578.py:12: FutureWarning: 

Passing `palette` without assigning `hue` is deprecated and will be removed in v0.14.0. Assign the `y` variable to `hue` and set `legend=False` for the same effect.

  sns.violinplot(data=df_grant,</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-40-output-3.png" width="671" height="435" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-40-output-4.png" width="671" height="435" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<pre><code>&lt;Figure size 672x480 with 0 Axes&gt;</code></pre>
</div>
</div>
</section>
<section id="barplots-pointplots-and-countplots" class="level2">
<h2 class="anchored" data-anchor-id="barplots-pointplots-and-countplots">barplots, pointplots and countplots</h2>
<p>The final group of categorical plots are barplots, pointplots and countplot which create statistical summaries of the data. The plots follow a similar API as the other plots and allow further customization for the specific problem at hand.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Instructions
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Create a countplot with the df dataframe and Model Selected on the y axis and the color varying by Region. - Create a pointplot with the df dataframe and Model Selected on the x-axis and Award_Amount on the y-axis. Use a capsize in the pointplot in order to add caps to the error bars. - Create a barplot with the same data on the x and y axis and change the color of each bar based on the Region column.</li>
</ul>
</div>
</div>
<div id="a75d2c7c" class="cell" data-execution_count="40">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="co">'''</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Show a countplot with the number of models used with each region a different color</span></span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a><span class="co">sns.countplot(data=df,</span></span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a><span class="co">         y="Model Selected",</span></span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a><span class="co">         hue="Region")</span></span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a><span class="co">plt.show()</span></span>
<span id="cb53-8"><a href="#cb53-8" aria-hidden="true" tabindex="-1"></a><span class="co">plt.clf()</span></span>
<span id="cb53-9"><a href="#cb53-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-10"><a href="#cb53-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a pointplot and include the capsize in order to show caps on the error bars</span></span>
<span id="cb53-11"><a href="#cb53-11" aria-hidden="true" tabindex="-1"></a><span class="co">sns.pointplot(data=df,</span></span>
<span id="cb53-12"><a href="#cb53-12" aria-hidden="true" tabindex="-1"></a><span class="co">         y='Award_Amount',</span></span>
<span id="cb53-13"><a href="#cb53-13" aria-hidden="true" tabindex="-1"></a><span class="co">         x='Model Selected',</span></span>
<span id="cb53-14"><a href="#cb53-14" aria-hidden="true" tabindex="-1"></a><span class="co">         capsize=.1)</span></span>
<span id="cb53-15"><a href="#cb53-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-16"><a href="#cb53-16" aria-hidden="true" tabindex="-1"></a><span class="co">plt.show()</span></span>
<span id="cb53-17"><a href="#cb53-17" aria-hidden="true" tabindex="-1"></a><span class="co">plt.clf()</span></span>
<span id="cb53-18"><a href="#cb53-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-19"><a href="#cb53-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a barplot with each Region shown as a different color</span></span>
<span id="cb53-20"><a href="#cb53-20" aria-hidden="true" tabindex="-1"></a><span class="co">sns.barplot(data=df,</span></span>
<span id="cb53-21"><a href="#cb53-21" aria-hidden="true" tabindex="-1"></a><span class="co">         y='Award_Amount',</span></span>
<span id="cb53-22"><a href="#cb53-22" aria-hidden="true" tabindex="-1"></a><span class="co">         x='Model Selected',</span></span>
<span id="cb53-23"><a href="#cb53-23" aria-hidden="true" tabindex="-1"></a><span class="co">         hue='Region')</span></span>
<span id="cb53-24"><a href="#cb53-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-25"><a href="#cb53-25" aria-hidden="true" tabindex="-1"></a><span class="co">plt.show()</span></span>
<span id="cb53-26"><a href="#cb53-26" aria-hidden="true" tabindex="-1"></a><span class="co">plt.clf()</span></span>
<span id="cb53-27"><a href="#cb53-27" aria-hidden="true" tabindex="-1"></a><span class="co">'''</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="40">
<pre><code>'\n# Show a countplot with the number of models used with each region a different color\nsns.countplot(data=df,\n         y="Model Selected",\n         hue="Region")\n\nplt.show()\nplt.clf()\n\n# Create a pointplot and include the capsize in order to show caps on the error bars\nsns.pointplot(data=df,\n         y=\'Award_Amount\',\n         x=\'Model Selected\',\n         capsize=.1)\n\nplt.show()\nplt.clf()\n\n# Create a barplot with each Region shown as a different color\nsns.barplot(data=df,\n         y=\'Award_Amount\',\n         x=\'Model Selected\',\n         hue=\'Region\')\n\nplt.show()\nplt.clf()\n'</code></pre>
</div>
</div>
</section>
<section id="regression-and-residual-plots" class="level2">
<h2 class="anchored" data-anchor-id="regression-and-residual-plots">Regression and residual plots</h2>
<p>Linear regression is a useful tool for understanding the relationship between numerical variables. Seaborn has simple but powerful tools for examining these relationships.</p>
<p>For these exercises, we will look at some details from the US Department of Education on 4 year college tuition information and see if there are any interesting insights into which variables might help predict tuition costs.</p>
<p>For these exercises, all data is loaded in the df variable.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Instructions
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Plot a regression plot comparing Tuition and average SAT scores(SAT_AVG_ALL). Make sure the values are shown as green triangles. - Use a residual plot to determine if the relationship looks linear.</li>
</ul>
</div>
</div>
<div id="711a8581" class="cell" data-execution_count="41">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> college_data</span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>df.head(<span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="41">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">INSTNM</th>
<th data-quarto-table-cell-role="th">OPEID</th>
<th data-quarto-table-cell-role="th">REGION</th>
<th data-quarto-table-cell-role="th">SAT_AVG_ALL</th>
<th data-quarto-table-cell-role="th">PCTPELL</th>
<th data-quarto-table-cell-role="th">PCTFLOAN</th>
<th data-quarto-table-cell-role="th">ADM_RATE_ALL</th>
<th data-quarto-table-cell-role="th">UG</th>
<th data-quarto-table-cell-role="th">AVGFACSAL</th>
<th data-quarto-table-cell-role="th">COMPL_RPY_5YR_RT</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">CONTROL</th>
<th data-quarto-table-cell-role="th">WOMENONLY</th>
<th data-quarto-table-cell-role="th">MENONLY</th>
<th data-quarto-table-cell-role="th">LOCALE</th>
<th data-quarto-table-cell-role="th">Tuition</th>
<th data-quarto-table-cell-role="th">Degree_Type</th>
<th data-quarto-table-cell-role="th">Ownership</th>
<th data-quarto-table-cell-role="th">Regions</th>
<th data-quarto-table-cell-role="th">Locales</th>
<th data-quarto-table-cell-role="th">Locale_Short</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Alabama A &amp; M University</td>
<td>100200</td>
<td>5</td>
<td>850.0</td>
<td>0.7249</td>
<td>0.8159</td>
<td>0.653841</td>
<td>4380.0</td>
<td>7017.0</td>
<td>0.477631579</td>
<td>...</td>
<td>1</td>
<td>0.0</td>
<td>0.0</td>
<td>12.0</td>
<td>13435.0</td>
<td>Graduate</td>
<td>Public</td>
<td>South East</td>
<td>City: Midsize</td>
<td>City</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>University of Alabama at Birmingham</td>
<td>105200</td>
<td>5</td>
<td>1147.0</td>
<td>0.3505</td>
<td>0.5218</td>
<td>0.604275</td>
<td>10331.0</td>
<td>10221.0</td>
<td>0.673230442</td>
<td>...</td>
<td>1</td>
<td>0.0</td>
<td>0.0</td>
<td>12.0</td>
<td>16023.0</td>
<td>Graduate</td>
<td>Public</td>
<td>South East</td>
<td>City: Midsize</td>
<td>City</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Amridge University</td>
<td>2503400</td>
<td>5</td>
<td>NaN</td>
<td>0.7455</td>
<td>0.8781</td>
<td>NaN</td>
<td>98.0</td>
<td>3217.0</td>
<td>0.636363636</td>
<td>...</td>
<td>2</td>
<td>0.0</td>
<td>0.0</td>
<td>12.0</td>
<td>8862.0</td>
<td>Graduate</td>
<td>Private non-profit</td>
<td>South East</td>
<td>City: Midsize</td>
<td>City</td>
</tr>
</tbody>
</table>

<p>3 rows × 24 columns</p>
</div>
</div>
</div>
</div>
<div id="322828b5" class="cell" data-execution_count="42">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Display a regression plot for Tuition</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>sns.regplot(data<span class="op">=</span>df,</span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>         y<span class="op">=</span><span class="st">'Tuition'</span>,</span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a>         x<span class="op">=</span><span class="st">'SAT_AVG_ALL'</span>,</span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a>         marker<span class="op">=</span><span class="st">'^'</span>,</span>
<span id="cb56-6"><a href="#cb56-6" aria-hidden="true" tabindex="-1"></a>         color<span class="op">=</span><span class="st">'g'</span>)</span>
<span id="cb56-7"><a href="#cb56-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-8"><a href="#cb56-8" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb56-9"><a href="#cb56-9" aria-hidden="true" tabindex="-1"></a>plt.clf()</span>
<span id="cb56-10"><a href="#cb56-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the residual plot</span></span>
<span id="cb56-11"><a href="#cb56-11" aria-hidden="true" tabindex="-1"></a>sns.residplot(data<span class="op">=</span>df,</span>
<span id="cb56-12"><a href="#cb56-12" aria-hidden="true" tabindex="-1"></a>          y<span class="op">=</span><span class="st">'Tuition'</span>,</span>
<span id="cb56-13"><a href="#cb56-13" aria-hidden="true" tabindex="-1"></a>          x<span class="op">=</span><span class="st">'SAT_AVG_ALL'</span>,</span>
<span id="cb56-14"><a href="#cb56-14" aria-hidden="true" tabindex="-1"></a>          color<span class="op">=</span><span class="st">'g'</span>)</span>
<span id="cb56-15"><a href="#cb56-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-16"><a href="#cb56-16" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb56-17"><a href="#cb56-17" aria-hidden="true" tabindex="-1"></a>plt.clf()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-43-output-1.png" width="614" height="435" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-43-output-2.png" width="622" height="435" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<pre><code>&lt;Figure size 672x480 with 0 Axes&gt;</code></pre>
</div>
</div>
</section>
<section id="regression-plot-parameters" class="level2">
<h2 class="anchored" data-anchor-id="regression-plot-parameters">Regression plot parameters</h2>
<p>Seaborn’s regression plot supports several parameters that can be used to configure the plots and drive more insight into the data.</p>
<p>For the next exercise, we can look at the relationship between tuition and the percent of students that receive Pell grants. A Pell grant is based on student financial need and subsidized by the US Government. In this data set, each University has some percentage of students that receive these grants. Since this data is continuous, using x_bins can be useful to break the percentages into categories in order to summarize and understand the data.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Instructions
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Plot a regression plot of Tuition and PCTPELL. - Create another plot that breaks the PCTPELL column into 5 different bins. -</li>
</ul>
</div>
</div>
<div id="335825e1" class="cell" data-execution_count="43">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot a regression plot of Tuition and the Percentage of Pell Grants</span></span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>sns.regplot(data<span class="op">=</span>df,</span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>            y<span class="op">=</span><span class="st">'Tuition'</span>,</span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a>            x<span class="op">=</span><span class="st">'PCTPELL'</span>)</span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-6"><a href="#cb58-6" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb58-7"><a href="#cb58-7" aria-hidden="true" tabindex="-1"></a>plt.clf()</span>
<span id="cb58-8"><a href="#cb58-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-9"><a href="#cb58-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Create another plot that estimates the tuition by PCTPELL</span></span>
<span id="cb58-10"><a href="#cb58-10" aria-hidden="true" tabindex="-1"></a>sns.regplot(data<span class="op">=</span>df,</span>
<span id="cb58-11"><a href="#cb58-11" aria-hidden="true" tabindex="-1"></a>            y<span class="op">=</span><span class="st">'Tuition'</span>,</span>
<span id="cb58-12"><a href="#cb58-12" aria-hidden="true" tabindex="-1"></a>            x<span class="op">=</span><span class="st">'PCTPELL'</span>,</span>
<span id="cb58-13"><a href="#cb58-13" aria-hidden="true" tabindex="-1"></a>            x_bins<span class="op">=</span><span class="dv">5</span>)</span>
<span id="cb58-14"><a href="#cb58-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-15"><a href="#cb58-15" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb58-16"><a href="#cb58-16" aria-hidden="true" tabindex="-1"></a>plt.clf()</span>
<span id="cb58-17"><a href="#cb58-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-18"><a href="#cb58-18" aria-hidden="true" tabindex="-1"></a><span class="co"># The final plot should include a line using a 2nd order polynomial</span></span>
<span id="cb58-19"><a href="#cb58-19" aria-hidden="true" tabindex="-1"></a>sns.regplot(data<span class="op">=</span>df,</span>
<span id="cb58-20"><a href="#cb58-20" aria-hidden="true" tabindex="-1"></a>            y<span class="op">=</span><span class="st">'Tuition'</span>,</span>
<span id="cb58-21"><a href="#cb58-21" aria-hidden="true" tabindex="-1"></a>            x<span class="op">=</span><span class="st">'PCTPELL'</span>,</span>
<span id="cb58-22"><a href="#cb58-22" aria-hidden="true" tabindex="-1"></a>            x_bins<span class="op">=</span><span class="dv">5</span>,</span>
<span id="cb58-23"><a href="#cb58-23" aria-hidden="true" tabindex="-1"></a>            order<span class="op">=</span><span class="dv">2</span>)</span>
<span id="cb58-24"><a href="#cb58-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-25"><a href="#cb58-25" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb58-26"><a href="#cb58-26" aria-hidden="true" tabindex="-1"></a>plt.clf()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-44-output-1.png" width="613" height="435" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-44-output-2.png" width="613" height="435" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-44-output-3.png" width="613" height="440" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<pre><code>&lt;Figure size 672x480 with 0 Axes&gt;</code></pre>
</div>
</div>
</section>
<section id="binning-data" class="level2">
<h2 class="anchored" data-anchor-id="binning-data">Binning data</h2>
<p>When the data on the x axis is a continuous value, it can be useful to break it into different bins in order to get a better visualization of the changes in the data.</p>
<p>For this exercise, we will look at the relationship between tuition and the Undergraduate population abbreviated as UG in this data. We will start by looking at a scatter plot of the data and examining the impact of different bin sizes on the visualization.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Instructions
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Create a regplot of Tuition and UG and set the fit_reg parameter to False to disable the regression line. - Create another plot with the UG data divided into 5 bins. - Create a regplot() with the data divided into 8 bins.</li>
</ul>
</div>
</div>
<div id="7ed0c019" class="cell" data-execution_count="44">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a scatter plot by disabling the regression line</span></span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>sns.regplot(data<span class="op">=</span>df,</span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a>            y<span class="op">=</span><span class="st">'Tuition'</span>,</span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a>            x<span class="op">=</span><span class="st">'UG'</span>,</span>
<span id="cb60-5"><a href="#cb60-5" aria-hidden="true" tabindex="-1"></a>            fit_reg<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb60-6"><a href="#cb60-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-7"><a href="#cb60-7" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb60-8"><a href="#cb60-8" aria-hidden="true" tabindex="-1"></a>plt.clf()</span>
<span id="cb60-9"><a href="#cb60-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a scatter plot and bin the data into 5 bins</span></span>
<span id="cb60-10"><a href="#cb60-10" aria-hidden="true" tabindex="-1"></a>sns.regplot(data<span class="op">=</span>df,</span>
<span id="cb60-11"><a href="#cb60-11" aria-hidden="true" tabindex="-1"></a>            y<span class="op">=</span><span class="st">'Tuition'</span>,</span>
<span id="cb60-12"><a href="#cb60-12" aria-hidden="true" tabindex="-1"></a>            x<span class="op">=</span><span class="st">'UG'</span>,</span>
<span id="cb60-13"><a href="#cb60-13" aria-hidden="true" tabindex="-1"></a>            x_bins<span class="op">=</span><span class="dv">5</span>)</span>
<span id="cb60-14"><a href="#cb60-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-15"><a href="#cb60-15" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb60-16"><a href="#cb60-16" aria-hidden="true" tabindex="-1"></a>plt.clf()</span>
<span id="cb60-17"><a href="#cb60-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-18"><a href="#cb60-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a regplot and bin the data into 8 bins</span></span>
<span id="cb60-19"><a href="#cb60-19" aria-hidden="true" tabindex="-1"></a>sns.regplot(data<span class="op">=</span>df,</span>
<span id="cb60-20"><a href="#cb60-20" aria-hidden="true" tabindex="-1"></a>         y<span class="op">=</span><span class="st">'Tuition'</span>,</span>
<span id="cb60-21"><a href="#cb60-21" aria-hidden="true" tabindex="-1"></a>         x<span class="op">=</span><span class="st">'UG'</span>,</span>
<span id="cb60-22"><a href="#cb60-22" aria-hidden="true" tabindex="-1"></a>         x_bins<span class="op">=</span><span class="dv">8</span>)</span>
<span id="cb60-23"><a href="#cb60-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-24"><a href="#cb60-24" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb60-25"><a href="#cb60-25" aria-hidden="true" tabindex="-1"></a>plt.clf()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-45-output-1.png" width="613" height="435" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-45-output-2.png" width="613" height="435" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-45-output-3.png" width="613" height="435" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<pre><code>&lt;Figure size 672x480 with 0 Axes&gt;</code></pre>
</div>
</div>
</section>
<section id="creating-heatmaps" class="level2">
<h2 class="anchored" data-anchor-id="creating-heatmaps">Creating heatmaps</h2>
<p>A heatmap is a common matrix plot that can be used to graphically summarize the relationship between two variables. For this exercise, we will start by looking at guests of the Daily Show from 1999 - 2015 and see how the occupations of the guests have changed over time.</p>
<p>The data includes the date of each guest appearance as well as their occupation. For the first exercise, we need to get the data into the right format for Seaborn’s heatmap function to correctly plot the data. All of the data has already been read into the df variable.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Instructions
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Use pandas’ crosstab() function to build a table of visits by Group and Year. - Print the pd_crosstab DataFrame. - Plot the data using Seaborn’s heatmap().</li>
</ul>
</div>
</div>
<div id="75ba3cee" class="cell" data-execution_count="45">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>df<span class="op">=</span>daily_show</span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a crosstab table of the data</span></span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a>pd_crosstab <span class="op">=</span> pd.crosstab(df[<span class="st">"Group"</span>], df[<span class="st">"YEAR"</span>])</span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(pd_crosstab)</span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-6"><a href="#cb62-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot a heatmap of the table</span></span>
<span id="cb62-7"><a href="#cb62-7" aria-hidden="true" tabindex="-1"></a>sns.heatmap(pd_crosstab)</span>
<span id="cb62-8"><a href="#cb62-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-9"><a href="#cb62-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Rotate tick marks for visibility</span></span>
<span id="cb62-10"><a href="#cb62-10" aria-hidden="true" tabindex="-1"></a>plt.yticks(rotation<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb62-11"><a href="#cb62-11" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">90</span>)</span>
<span id="cb62-12"><a href="#cb62-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-13"><a href="#cb62-13" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>YEAR            1999  2000  2001  2002  2003  2004  2005  2006  2007  2008  \
Group                                                                        
Academic           0     0     2     0     4     1    12     9    13     5   
Acting           108   100    92    84    74    51    44    44    25    26   
Advocacy           0     1     0     1     0     4     0     0     2     3   
Athletics          0     3     1     2     0     2     2     5     4     1   
Business           0     1     0     0     0     2     1     1     2     1   
Clergy             0     0     0     1     1     1     0     0     1     0   
Comedy            25    12    11     5    12     7     5     8     9     7   
Consultant         0     0     0     0     1     4     1     4     2     3   
Government         0     0     2     1     2     3     1     3     1     0   
Media             11    21    31    42    41    45    54    47    47    77   
Military           0     0     0     0     0     0     1     1     3     1   
Misc               0     0     2     1     1     0     4     3     2     2   
Musician          17    13    11    10     7     5    11     6     2     1   
Political Aide     0     1     1     2     1     2     3     3     2     6   
Politician         2    13     3     8    14    32    22    25    21    27   
Science            0     0     0     0     1     2     1     1     4     1   

YEAR            2009  2010  2011  2012  2013  2014  2015  
Group                                                     
Academic          11     8    10     8     8    10     2  
Acting            22    45    42    33    60    47    33  
Advocacy           1     1     1     2     2     3     3  
Athletics          7     5     2     7     4     4     3  
Business           4     2     3     3     3     1     1  
Clergy             1     0     1     2     0     0     0  
Comedy             7     7     7     6     6     9     7  
Consultant         2     1     0     0     0     0     0  
Government         5     3     3     3     7     6     0  
Media             59    50    51    52    51    53    24  
Military           1     2     3     1     1     1     1  
Misc               5     4     5     6     2     5     3  
Musician           5     6     6     5     5     8     5  
Political Aide     3     2     1     1     3     2     3  
Politician        26    25    23    29    11    13    14  
Science            4     3     5     2     2     1     1  </code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-46-output-2.png" width="634" height="454" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="customizing-heatmaps" class="level2">
<h2 class="anchored" data-anchor-id="customizing-heatmaps">Customizing heatmaps</h2>
<p>Seaborn supports several types of additional customizations to improve the output of a heatmap. For this exercise, we will continue to use the Daily Show data that is stored in the df variable but we will customize the output.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Instructions
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Create a crosstab table of Group and YEAR - Create a heatmap of the data using the BuGn palette - Disable the cbar and increase the linewidth to 0.3</li>
</ul>
</div>
</div>
<div id="47b1182f" class="cell" data-execution_count="46">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the crosstab DataFrame</span></span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>pd_crosstab <span class="op">=</span> pd.crosstab(df[<span class="st">"Group"</span>], df[<span class="st">"YEAR"</span>])</span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot a heatmap of the table with no color bar and using the BuGn palette</span></span>
<span id="cb64-5"><a href="#cb64-5" aria-hidden="true" tabindex="-1"></a>sns.heatmap(pd_crosstab, cbar<span class="op">=</span><span class="va">False</span>, cmap<span class="op">=</span><span class="st">"BuGn"</span>, linewidths<span class="op">=</span><span class="fl">0.3</span>)</span>
<span id="cb64-6"><a href="#cb64-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-7"><a href="#cb64-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Rotate tick marks for visibility</span></span>
<span id="cb64-8"><a href="#cb64-8" aria-hidden="true" tabindex="-1"></a>plt.yticks(rotation<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb64-9"><a href="#cb64-9" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">90</span>)</span>
<span id="cb64-10"><a href="#cb64-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-11"><a href="#cb64-11" aria-hidden="true" tabindex="-1"></a><span class="co">#Show the plot</span></span>
<span id="cb64-12"><a href="#cb64-12" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb64-13"><a href="#cb64-13" aria-hidden="true" tabindex="-1"></a>plt.clf()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-47-output-1.png" width="656" height="454" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<pre><code>&lt;Figure size 672x480 with 0 Axes&gt;</code></pre>
</div>
</div>
</section>
<section id="building-a-facetgrid" class="level2">
<h2 class="anchored" data-anchor-id="building-a-facetgrid">Building a FacetGrid</h2>
<p>Seaborn’s FacetGrid is the foundation for building data-aware grids. A data-aware grid allows you to create a series of small plots that can be useful for understanding complex data relationships.</p>
<p>For these exercises, we will continue to look at the College Scorecard Data from the US Department of Education. This rich dataset has many interesting data elements that we can plot with Seaborn.</p>
<p>When building a FacetGrid, there are two steps:</p>
<pre><code>Create a FacetGrid object with columns, rows, or hue.
Map individual plots to the grid.</code></pre>
<section id="instructions-24" class="level3">
<h3 class="anchored" data-anchor-id="instructions-24">Instructions</h3>
<ul>
<li>Create a FacetGrid that shows a point plot of the Average SAT scores SAT_AVG_ALL.</li>
<li>Use row_order to control the display order of the degree types.</li>
</ul>
<div id="b12f2c7b" class="cell" data-execution_count="47">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a>df<span class="op">=</span>college_data</span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Create FacetGrid with Degree_Type and specify the order of the rows using row_order</span></span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a>g2 <span class="op">=</span> sns.FacetGrid(df, </span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a>             row<span class="op">=</span><span class="st">"Degree_Type"</span>,</span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true" tabindex="-1"></a>             row_order<span class="op">=</span>[<span class="st">'Graduate'</span>, <span class="st">'Bachelors'</span>, <span class="st">'Associates'</span>, <span class="st">'Certificate'</span>])</span>
<span id="cb67-6"><a href="#cb67-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-7"><a href="#cb67-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Map a pointplot of SAT_AVG_ALL onto the grid</span></span>
<span id="cb67-8"><a href="#cb67-8" aria-hidden="true" tabindex="-1"></a>g2.<span class="bu">map</span>(sns.pointplot, <span class="st">'SAT_AVG_ALL'</span>)</span>
<span id="cb67-9"><a href="#cb67-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-10"><a href="#cb67-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Show the plot</span></span>
<span id="cb67-11"><a href="#cb67-11" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb67-12"><a href="#cb67-12" aria-hidden="true" tabindex="-1"></a>plt.clf()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>/Users/00110139/miniforge3/envs/TF2/lib/python3.9/site-packages/seaborn/axisgrid.py:718: UserWarning: Using the pointplot function without specifying `order` is likely to produce an incorrect plot.
  warnings.warn(warning)</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-48-output-2.png" width="273" height="1135" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<pre><code>&lt;Figure size 672x480 with 0 Axes&gt;</code></pre>
</div>
</div>
</section>
</section>
<section id="using-a-catplot" class="level2">
<h2 class="anchored" data-anchor-id="using-a-catplot">Using a catplot</h2>
<p>In many cases, Seaborn’s catplot() can be a simpler way to create a FacetGrid. Instead of creating a grid and mapping the plot, we can use the catplot() to create a plot with one line of code.</p>
<p>For this exercise, we will recreate one of the plots from the previous exercise using catplot() and show how to create a boxplot on a data-aware grid. Instructions - Create a catplot() that contains a boxplot (box) of Tuition values varying by Degree_Type across rows. - Create a catplot() of SAT Averages (SAT_AVG_ALL) facetted across Degree_Type that shows a pointplot (point). Use row_order to order the degrees from highest to lowest level.</p>
<div id="5b3e83f5" class="cell" data-execution_count="48">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a factor plot that contains boxplots of Tuition values</span></span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a>sns.catplot(data<span class="op">=</span>df,</span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a>         x<span class="op">=</span><span class="st">'Tuition'</span>,</span>
<span id="cb70-4"><a href="#cb70-4" aria-hidden="true" tabindex="-1"></a>         kind<span class="op">=</span><span class="st">'box'</span>,</span>
<span id="cb70-5"><a href="#cb70-5" aria-hidden="true" tabindex="-1"></a>         row<span class="op">=</span><span class="st">'Degree_Type'</span>)</span>
<span id="cb70-6"><a href="#cb70-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-7"><a href="#cb70-7" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb70-8"><a href="#cb70-8" aria-hidden="true" tabindex="-1"></a>plt.clf()</span>
<span id="cb70-9"><a href="#cb70-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-10"><a href="#cb70-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-11"><a href="#cb70-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a facetted pointplot of Average SAT_AVG_ALL scores facetted by Degree Type </span></span>
<span id="cb70-12"><a href="#cb70-12" aria-hidden="true" tabindex="-1"></a>sns.catplot(data<span class="op">=</span>df,</span>
<span id="cb70-13"><a href="#cb70-13" aria-hidden="true" tabindex="-1"></a>        x<span class="op">=</span><span class="st">'SAT_AVG_ALL'</span>,</span>
<span id="cb70-14"><a href="#cb70-14" aria-hidden="true" tabindex="-1"></a>        kind<span class="op">=</span><span class="st">'point'</span>,</span>
<span id="cb70-15"><a href="#cb70-15" aria-hidden="true" tabindex="-1"></a>        row<span class="op">=</span><span class="st">'Degree_Type'</span>,</span>
<span id="cb70-16"><a href="#cb70-16" aria-hidden="true" tabindex="-1"></a>        row_order<span class="op">=</span>[<span class="st">'Graduate'</span>, <span class="st">'Bachelors'</span>, <span class="st">'Associates'</span>, <span class="st">'Certificate'</span>])</span>
<span id="cb70-17"><a href="#cb70-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-18"><a href="#cb70-18" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb70-19"><a href="#cb70-19" aria-hidden="true" tabindex="-1"></a>plt.clf()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-49-output-1.png" width="486" height="2384" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<pre><code>&lt;Figure size 672x480 with 0 Axes&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-49-output-3.png" width="486" height="1903" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<pre><code>&lt;Figure size 672x480 with 0 Axes&gt;</code></pre>
</div>
</div>
</section>
<section id="using-a-lmplot" class="level2">
<h2 class="anchored" data-anchor-id="using-a-lmplot">Using a lmplot</h2>
<p>The lmplot is used to plot scatter plots with regression lines on FacetGrid objects. The API is similar to catplot with the difference that the default behavior of lmplot is to plot regression lines.</p>
<p>For the first set of exercises, we will look at the Undergraduate population (UG) and compare it to the percentage of students receiving Pell Grants (PCTPELL).</p>
<p>For the second lmplot exercise, we can look at the relationships between Average SAT scores and Tuition across the different degree types and public vs.&nbsp;non-profit schools.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Instructions
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Create a FacetGrid() with Degree_Type columns and scatter plot of UG and PCTPELL. - Create a lmplot() using the same values from the FacetGrid(). - Create a facetted lmplot() comparing SAT_AVG_ALL to Tuition with columns varying by Ownership and rows by Degree_Type. In the lmplot() add a hue for Women Only Universities.</li>
</ul>
</div>
</div>
<div id="40f018c2" class="cell" data-execution_count="49">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a>df.columns</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="49">
<pre><code>Index(['INSTNM', 'OPEID', 'REGION', 'SAT_AVG_ALL', 'PCTPELL', 'PCTFLOAN',
       'ADM_RATE_ALL', 'UG', 'AVGFACSAL', 'COMPL_RPY_5YR_RT', 'DEBT_MDN',
       'MEDIAN_HH_INC', 'ICLEVEL', 'HIGHDEG', 'CONTROL', 'WOMENONLY',
       'MENONLY', 'LOCALE', 'Tuition', 'Degree_Type', 'Ownership', 'Regions',
       'Locales', 'Locale_Short'],
      dtype='object')</code></pre>
</div>
</div>
<div id="955ffc55" class="cell" data-execution_count="50">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> college_data</span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a>degree_ord <span class="op">=</span>[<span class="st">'Graduate'</span>, <span class="st">'Bachelors'</span>, <span class="st">'Associates'</span>]</span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a FacetGrid varying by column and columns ordered with the degree_order variable</span></span>
<span id="cb75-4"><a href="#cb75-4" aria-hidden="true" tabindex="-1"></a>g <span class="op">=</span> sns.FacetGrid(df, col<span class="op">=</span><span class="st">"Degree_Type"</span>, col_order<span class="op">=</span>degree_ord)</span>
<span id="cb75-5"><a href="#cb75-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-6"><a href="#cb75-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Map a scatter plot of Undergrad Population compared to PCTPELL</span></span>
<span id="cb75-7"><a href="#cb75-7" aria-hidden="true" tabindex="-1"></a>g.<span class="bu">map</span>(plt.scatter, <span class="st">'UG'</span>, <span class="st">'PCTPELL'</span>)</span>
<span id="cb75-8"><a href="#cb75-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-9"><a href="#cb75-9" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb75-10"><a href="#cb75-10" aria-hidden="true" tabindex="-1"></a>plt.clf()</span>
<span id="cb75-11"><a href="#cb75-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Re-create the previous plot as an lmplot</span></span>
<span id="cb75-12"><a href="#cb75-12" aria-hidden="true" tabindex="-1"></a>sns.lmplot(data<span class="op">=</span>df,</span>
<span id="cb75-13"><a href="#cb75-13" aria-hidden="true" tabindex="-1"></a>        x<span class="op">=</span><span class="st">'UG'</span>,</span>
<span id="cb75-14"><a href="#cb75-14" aria-hidden="true" tabindex="-1"></a>        y<span class="op">=</span><span class="st">'PCTPELL'</span>,</span>
<span id="cb75-15"><a href="#cb75-15" aria-hidden="true" tabindex="-1"></a>        col<span class="op">=</span><span class="st">"Degree_Type"</span>,</span>
<span id="cb75-16"><a href="#cb75-16" aria-hidden="true" tabindex="-1"></a>        col_order<span class="op">=</span>degree_ord)</span>
<span id="cb75-17"><a href="#cb75-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-18"><a href="#cb75-18" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb75-19"><a href="#cb75-19" aria-hidden="true" tabindex="-1"></a>plt.clf()</span>
<span id="cb75-20"><a href="#cb75-20" aria-hidden="true" tabindex="-1"></a>inst_ord <span class="op">=</span> [<span class="st">'Public'</span>, <span class="st">'Private non-profit'</span>]</span>
<span id="cb75-21"><a href="#cb75-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Create an lmplot that has a column for Ownership, a row for Degree_Type and hue based on the WOMENONLY column</span></span>
<span id="cb75-22"><a href="#cb75-22" aria-hidden="true" tabindex="-1"></a>sns.lmplot(data<span class="op">=</span>df,</span>
<span id="cb75-23"><a href="#cb75-23" aria-hidden="true" tabindex="-1"></a>        x<span class="op">=</span><span class="st">'SAT_AVG_ALL'</span>,</span>
<span id="cb75-24"><a href="#cb75-24" aria-hidden="true" tabindex="-1"></a>        y<span class="op">=</span><span class="st">'Tuition'</span>,</span>
<span id="cb75-25"><a href="#cb75-25" aria-hidden="true" tabindex="-1"></a>        col<span class="op">=</span><span class="st">"Ownership"</span>,</span>
<span id="cb75-26"><a href="#cb75-26" aria-hidden="true" tabindex="-1"></a>        row<span class="op">=</span><span class="st">'Degree_Type'</span>,</span>
<span id="cb75-27"><a href="#cb75-27" aria-hidden="true" tabindex="-1"></a>        row_order<span class="op">=</span>[<span class="st">'Graduate'</span>, <span class="st">'Bachelors'</span>],</span>
<span id="cb75-28"><a href="#cb75-28" aria-hidden="true" tabindex="-1"></a>        hue<span class="op">=</span><span class="st">'WOMENONLY'</span>,</span>
<span id="cb75-29"><a href="#cb75-29" aria-hidden="true" tabindex="-1"></a>        col_order<span class="op">=</span>inst_ord)</span>
<span id="cb75-30"><a href="#cb75-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-31"><a href="#cb75-31" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb75-32"><a href="#cb75-32" aria-hidden="true" tabindex="-1"></a>plt.clf()</span>
<span id="cb75-33"><a href="#cb75-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-34"><a href="#cb75-34" aria-hidden="true" tabindex="-1"></a><span class="co"># Create an lmplot that has a column for Ownership, a row for Degree_Type and hue based on the WOMENONLY column</span></span>
<span id="cb75-35"><a href="#cb75-35" aria-hidden="true" tabindex="-1"></a>sns.lmplot(data<span class="op">=</span>df,</span>
<span id="cb75-36"><a href="#cb75-36" aria-hidden="true" tabindex="-1"></a>        x<span class="op">=</span><span class="st">'SAT_AVG_ALL'</span>,</span>
<span id="cb75-37"><a href="#cb75-37" aria-hidden="true" tabindex="-1"></a>        y<span class="op">=</span><span class="st">'Tuition'</span>,</span>
<span id="cb75-38"><a href="#cb75-38" aria-hidden="true" tabindex="-1"></a>        col<span class="op">=</span><span class="st">"Ownership"</span>,</span>
<span id="cb75-39"><a href="#cb75-39" aria-hidden="true" tabindex="-1"></a>        row<span class="op">=</span><span class="st">'Degree_Type'</span>,</span>
<span id="cb75-40"><a href="#cb75-40" aria-hidden="true" tabindex="-1"></a>        row_order<span class="op">=</span>[<span class="st">'Graduate'</span>, <span class="st">'Bachelors'</span>],</span>
<span id="cb75-41"><a href="#cb75-41" aria-hidden="true" tabindex="-1"></a>        hue<span class="op">=</span><span class="st">'WOMENONLY'</span>,</span>
<span id="cb75-42"><a href="#cb75-42" aria-hidden="true" tabindex="-1"></a>        col_order<span class="op">=</span>inst_ord)</span>
<span id="cb75-43"><a href="#cb75-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-44"><a href="#cb75-44" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb75-45"><a href="#cb75-45" aria-hidden="true" tabindex="-1"></a>plt.clf()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-51-output-1.png" width="848" height="272" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<pre><code>&lt;Figure size 672x480 with 0 Axes&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-51-output-3.png" width="1424" height="464" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<pre><code>&lt;Figure size 672x480 with 0 Axes&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-51-output-5.png" width="1061" height="943" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<pre><code>&lt;Figure size 672x480 with 0 Axes&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-51-output-7.png" width="1061" height="943" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<pre><code>&lt;Figure size 672x480 with 0 Axes&gt;</code></pre>
</div>
</div>
</section>
<section id="building-a-pairgrid" class="level2">
<h2 class="anchored" data-anchor-id="building-a-pairgrid">Building a PairGrid</h2>
<p>When exploring a dataset, one of the earliest tasks is exploring the relationship between pairs of variables. This step is normally a precursor to additional investigation.</p>
<p>Seaborn supports this pair-wise analysis using the PairGrid. In this exercise, we will look at the Car Insurance Premium data we analyzed in Chapter 1. All data is available in the df variable.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Instructions
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Compare “fatal_collisions” to “premiums” by using a scatter plot mapped to a PairGrid(). - Create another PairGrid but plot a histogram on the diagonal and scatter plot on the off diagonal.</li>
</ul>
</div>
</div>
<div id="4aec9d15" class="cell" data-execution_count="51">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a>df<span class="op">=</span>insurance</span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a PairGrid with a scatter plot for fatal_collisions and premiums</span></span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a>g <span class="op">=</span> sns.PairGrid(df, <span class="bu">vars</span><span class="op">=</span>[<span class="st">"fatal_collisions"</span>, <span class="st">"premiums"</span>])</span>
<span id="cb80-4"><a href="#cb80-4" aria-hidden="true" tabindex="-1"></a>g2 <span class="op">=</span> g.<span class="bu">map</span>(sns.scatterplot)</span>
<span id="cb80-5"><a href="#cb80-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-6"><a href="#cb80-6" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb80-7"><a href="#cb80-7" aria-hidden="true" tabindex="-1"></a>plt.clf()</span>
<span id="cb80-8"><a href="#cb80-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-9"><a href="#cb80-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the same PairGrid but map a histogram on the diag</span></span>
<span id="cb80-10"><a href="#cb80-10" aria-hidden="true" tabindex="-1"></a>g <span class="op">=</span> sns.PairGrid(df, <span class="bu">vars</span><span class="op">=</span>[<span class="st">"fatal_collisions"</span>, <span class="st">"premiums"</span>])</span>
<span id="cb80-11"><a href="#cb80-11" aria-hidden="true" tabindex="-1"></a>g2 <span class="op">=</span> g.map_diag(sns.histplot)</span>
<span id="cb80-12"><a href="#cb80-12" aria-hidden="true" tabindex="-1"></a>g3 <span class="op">=</span> g2.map_offdiag(sns.scatterplot)</span>
<span id="cb80-13"><a href="#cb80-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-14"><a href="#cb80-14" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb80-15"><a href="#cb80-15" aria-hidden="true" tabindex="-1"></a>plt.clf()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-52-output-1.png" width="475" height="467" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<pre><code>&lt;Figure size 672x480 with 0 Axes&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-52-output-3.png" width="475" height="467" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<pre><code>&lt;Figure size 672x480 with 0 Axes&gt;</code></pre>
</div>
</div>
</section>
<section id="using-a-pairplot" class="level2">
<h2 class="anchored" data-anchor-id="using-a-pairplot">Using a pairplot</h2>
<p>The pairplot() function is generally a more convenient way to look at pairwise relationships. In this exercise, we will create the same results as the PairGrid using less code. Then, we will explore some additional functionality of the pairplot(). We will also use a different palette and adjust the transparency of the diagonal plots using the alpha parameter.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Instructions
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Recreate the pairwise plot from the previous exercise using pairplot(). - Create another pairplot using the “Region” to color code the results.Use the RdBu palette to change the colors of the plot.</li>
</ul>
</div>
</div>
<div id="84df6ed7" class="cell" data-execution_count="52">
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a> <span class="co">#Create a pairwise plot of the variables using a scatter plot</span></span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a>sns.pairplot(data<span class="op">=</span>df,</span>
<span id="cb83-3"><a href="#cb83-3" aria-hidden="true" tabindex="-1"></a>        <span class="bu">vars</span><span class="op">=</span>[<span class="st">"fatal_collisions"</span>, <span class="st">"premiums"</span>],</span>
<span id="cb83-4"><a href="#cb83-4" aria-hidden="true" tabindex="-1"></a>        kind<span class="op">=</span><span class="st">'scatter'</span>)</span>
<span id="cb83-5"><a href="#cb83-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-6"><a href="#cb83-6" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb83-7"><a href="#cb83-7" aria-hidden="true" tabindex="-1"></a>plt.clf()</span>
<span id="cb83-8"><a href="#cb83-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-9"><a href="#cb83-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the same data but use a different color palette and color code by Region</span></span>
<span id="cb83-10"><a href="#cb83-10" aria-hidden="true" tabindex="-1"></a>sns.pairplot(data<span class="op">=</span>df,</span>
<span id="cb83-11"><a href="#cb83-11" aria-hidden="true" tabindex="-1"></a>        <span class="bu">vars</span><span class="op">=</span>[<span class="st">"fatal_collisions"</span>, <span class="st">"premiums"</span>],</span>
<span id="cb83-12"><a href="#cb83-12" aria-hidden="true" tabindex="-1"></a>        kind<span class="op">=</span><span class="st">'scatter'</span>,</span>
<span id="cb83-13"><a href="#cb83-13" aria-hidden="true" tabindex="-1"></a>        hue<span class="op">=</span><span class="st">'Region'</span>,</span>
<span id="cb83-14"><a href="#cb83-14" aria-hidden="true" tabindex="-1"></a>        palette<span class="op">=</span><span class="st">'RdBu'</span>,</span>
<span id="cb83-15"><a href="#cb83-15" aria-hidden="true" tabindex="-1"></a>        diag_kws<span class="op">=</span>{<span class="st">'alpha'</span>:<span class="fl">.5</span>})</span>
<span id="cb83-16"><a href="#cb83-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-17"><a href="#cb83-17" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb83-18"><a href="#cb83-18" aria-hidden="true" tabindex="-1"></a>plt.clf()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-53-output-1.png" width="473" height="473" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<pre><code>&lt;Figure size 672x480 with 0 Axes&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-53-output-3.png" width="594" height="473" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<pre><code>&lt;Figure size 672x480 with 0 Axes&gt;</code></pre>
</div>
</div>
</section>
<section id="additional-pairplots" class="level2">
<h2 class="anchored" data-anchor-id="additional-pairplots">Additional pairplots</h2>
<p>This exercise will go through a couple of more examples of how the pairplot() can be customized for quickly analyzing data and determining areas of interest that might be worthy of additional analysis.</p>
<p>One area of customization that is useful is to explicitly define the x_vars and y_vars that you wish to examine. Instead of examining all pairwise relationships, this capability allows you to look only at the specific interactions that may be of interest.</p>
<p>We have already looked at using kind to control the types of plots. We can also use diag_kind to control the types of plots shown on the diagonals. In the final example, we will include a regression and kde plot in the pairplot.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Instructions
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Create a pair plot that examines fatal_collisions_speeding and fatal_collisions_alc on the x axis and premiums and insurance_losses on the y axis. - Use the husl palette and color code the scatter plot by Region. - Build a pairplot() with kde plots along the diagonals. Include the insurance_losses and premiums as the variables. - Use a reg plot for the the non-diagonal plots. - Use the BrBG palette for the final plot.</li>
</ul>
</div>
</div>
<div id="9dd96dbb" class="cell" data-execution_count="53">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Build a pairplot with different x and y variables</span></span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a>sns.pairplot(data<span class="op">=</span>df,</span>
<span id="cb86-3"><a href="#cb86-3" aria-hidden="true" tabindex="-1"></a>        x_vars<span class="op">=</span>[<span class="st">"fatal_collisions_speeding"</span>, <span class="st">"fatal_collisions_alc"</span>],</span>
<span id="cb86-4"><a href="#cb86-4" aria-hidden="true" tabindex="-1"></a>        y_vars<span class="op">=</span>[<span class="st">'premiums'</span>, <span class="st">'insurance_losses'</span>],</span>
<span id="cb86-5"><a href="#cb86-5" aria-hidden="true" tabindex="-1"></a>        kind<span class="op">=</span><span class="st">'scatter'</span>,</span>
<span id="cb86-6"><a href="#cb86-6" aria-hidden="true" tabindex="-1"></a>        hue<span class="op">=</span><span class="st">'Region'</span>,</span>
<span id="cb86-7"><a href="#cb86-7" aria-hidden="true" tabindex="-1"></a>        palette<span class="op">=</span><span class="st">'husl'</span>)</span>
<span id="cb86-8"><a href="#cb86-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb86-9"><a href="#cb86-9" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb86-10"><a href="#cb86-10" aria-hidden="true" tabindex="-1"></a>plt.clf()</span>
<span id="cb86-11"><a href="#cb86-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb86-12"><a href="#cb86-12" aria-hidden="true" tabindex="-1"></a><span class="co"># plot relationships between insurance_losses and premiums</span></span>
<span id="cb86-13"><a href="#cb86-13" aria-hidden="true" tabindex="-1"></a>sns.pairplot(data<span class="op">=</span>df,</span>
<span id="cb86-14"><a href="#cb86-14" aria-hidden="true" tabindex="-1"></a>             <span class="bu">vars</span><span class="op">=</span>[<span class="st">"insurance_losses"</span>, <span class="st">"premiums"</span>],</span>
<span id="cb86-15"><a href="#cb86-15" aria-hidden="true" tabindex="-1"></a>             kind<span class="op">=</span><span class="st">'reg'</span>,</span>
<span id="cb86-16"><a href="#cb86-16" aria-hidden="true" tabindex="-1"></a>             palette<span class="op">=</span><span class="st">'BrBG'</span>,</span>
<span id="cb86-17"><a href="#cb86-17" aria-hidden="true" tabindex="-1"></a>             diag_kind <span class="op">=</span> <span class="st">'kde'</span>,</span>
<span id="cb86-18"><a href="#cb86-18" aria-hidden="true" tabindex="-1"></a>             hue<span class="op">=</span><span class="st">'Region'</span>)</span>
<span id="cb86-19"><a href="#cb86-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb86-20"><a href="#cb86-20" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb86-21"><a href="#cb86-21" aria-hidden="true" tabindex="-1"></a>plt.clf()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-54-output-1.png" width="594" height="473" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<pre><code>&lt;Figure size 672x480 with 0 Axes&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-54-output-3.png" width="594" height="473" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<pre><code>&lt;Figure size 672x480 with 0 Axes&gt;</code></pre>
</div>
</div>
</section>
<section id="building-a-jointgrid-and-jointplot" class="level2">
<h2 class="anchored" data-anchor-id="building-a-jointgrid-and-jointplot">Building a JointGrid and jointplot</h2>
<p>Seaborn’s JointGrid combines univariate plots such as histograms, rug plots and kde plots with bivariate plots such as scatter and regression plots. The process for creating these plots should be familiar to you now. These plots also demonstrate how Seaborn provides convenient functions to combine multiple plots together.</p>
<p>For these exercises, we will use the bike share data that we reviewed earlier. In this exercise, we will look at the relationship between humidity levels and total rentals to see if there is an interesting relationship we might want to explore later.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Instructions
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Use Seaborn’s “whitegrid” style for these plots. - Create a JointGrid() with “hum” on the x-axis and “total_rentals” on the y. - Plot a regplot() and histplot() on the margins. - Re-create the plot using a jointplot().</li>
</ul>
</div>
</div>
<div id="2f4067b1" class="cell" data-execution_count="54">
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a>df<span class="op">=</span>bike_share</span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Build a JointGrid comparing humidity and total_rentals</span></span>
<span id="cb89-3"><a href="#cb89-3" aria-hidden="true" tabindex="-1"></a>sns.set_style(<span class="st">"whitegrid"</span>)</span>
<span id="cb89-4"><a href="#cb89-4" aria-hidden="true" tabindex="-1"></a>g <span class="op">=</span> sns.JointGrid(x<span class="op">=</span><span class="st">"hum"</span>,</span>
<span id="cb89-5"><a href="#cb89-5" aria-hidden="true" tabindex="-1"></a>            y<span class="op">=</span><span class="st">"total_rentals"</span>,</span>
<span id="cb89-6"><a href="#cb89-6" aria-hidden="true" tabindex="-1"></a>            data<span class="op">=</span>df,</span>
<span id="cb89-7"><a href="#cb89-7" aria-hidden="true" tabindex="-1"></a>            xlim<span class="op">=</span>(<span class="fl">0.1</span>, <span class="fl">1.0</span>)) </span>
<span id="cb89-8"><a href="#cb89-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb89-9"><a href="#cb89-9" aria-hidden="true" tabindex="-1"></a>g.plot(sns.regplot, sns.histplot)</span>
<span id="cb89-10"><a href="#cb89-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb89-11"><a href="#cb89-11" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb89-12"><a href="#cb89-12" aria-hidden="true" tabindex="-1"></a>plt.clf()</span>
<span id="cb89-13"><a href="#cb89-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a jointplot similar to the JointGrid </span></span>
<span id="cb89-14"><a href="#cb89-14" aria-hidden="true" tabindex="-1"></a>sns.jointplot(x<span class="op">=</span><span class="st">"hum"</span>,</span>
<span id="cb89-15"><a href="#cb89-15" aria-hidden="true" tabindex="-1"></a>        y<span class="op">=</span><span class="st">"total_rentals"</span>,</span>
<span id="cb89-16"><a href="#cb89-16" aria-hidden="true" tabindex="-1"></a>        kind<span class="op">=</span><span class="st">'reg'</span>,</span>
<span id="cb89-17"><a href="#cb89-17" aria-hidden="true" tabindex="-1"></a>        data<span class="op">=</span>df)</span>
<span id="cb89-18"><a href="#cb89-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb89-19"><a href="#cb89-19" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb89-20"><a href="#cb89-20" aria-hidden="true" tabindex="-1"></a>plt.clf()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-55-output-1.png" width="572" height="560" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<pre><code>&lt;Figure size 672x480 with 0 Axes&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-55-output-3.png" width="572" height="560" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<pre><code>&lt;Figure size 672x480 with 0 Axes&gt;</code></pre>
</div>
</div>
</section>
<section id="jointplots-and-regression" class="level2">
<h2 class="anchored" data-anchor-id="jointplots-and-regression">Jointplots and regression</h2>
<p>Since the previous plot does not show a relationship between humidity and rental amounts, we can look at another variable that we reviewed earlier. Specifically, the relationship between temp and total_rentals.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Instructions
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Create a jointplot with a 2nd order polynomial regression plot comparing temp and total_rentals.</li>
</ul>
</div>
</div>
<div id="9224eba7" class="cell" data-execution_count="55">
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot temp vs. total_rentals as a regression plot</span></span>
<span id="cb92-2"><a href="#cb92-2" aria-hidden="true" tabindex="-1"></a>sns.jointplot(x<span class="op">=</span><span class="st">"temp"</span>,</span>
<span id="cb92-3"><a href="#cb92-3" aria-hidden="true" tabindex="-1"></a>         y<span class="op">=</span><span class="st">"total_rentals"</span>,</span>
<span id="cb92-4"><a href="#cb92-4" aria-hidden="true" tabindex="-1"></a>         kind<span class="op">=</span><span class="st">'reg'</span>,</span>
<span id="cb92-5"><a href="#cb92-5" aria-hidden="true" tabindex="-1"></a>         data<span class="op">=</span>df,</span>
<span id="cb92-6"><a href="#cb92-6" aria-hidden="true" tabindex="-1"></a>         order<span class="op">=</span><span class="dv">2</span>,</span>
<span id="cb92-7"><a href="#cb92-7" aria-hidden="true" tabindex="-1"></a>         xlim<span class="op">=</span>(<span class="dv">0</span>, <span class="dv">1</span>))</span>
<span id="cb92-8"><a href="#cb92-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-9"><a href="#cb92-9" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb92-10"><a href="#cb92-10" aria-hidden="true" tabindex="-1"></a>plt.clf()</span>
<span id="cb92-11"><a href="#cb92-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-12"><a href="#cb92-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot a jointplot showing the residuals</span></span>
<span id="cb92-13"><a href="#cb92-13" aria-hidden="true" tabindex="-1"></a>sns.jointplot(x<span class="op">=</span><span class="st">"temp"</span>,</span>
<span id="cb92-14"><a href="#cb92-14" aria-hidden="true" tabindex="-1"></a>        y<span class="op">=</span><span class="st">"total_rentals"</span>,</span>
<span id="cb92-15"><a href="#cb92-15" aria-hidden="true" tabindex="-1"></a>        kind<span class="op">=</span><span class="st">'resid'</span>,</span>
<span id="cb92-16"><a href="#cb92-16" aria-hidden="true" tabindex="-1"></a>        data<span class="op">=</span>df,</span>
<span id="cb92-17"><a href="#cb92-17" aria-hidden="true" tabindex="-1"></a>        order<span class="op">=</span><span class="dv">2</span>)</span>
<span id="cb92-18"><a href="#cb92-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-19"><a href="#cb92-19" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb92-20"><a href="#cb92-20" aria-hidden="true" tabindex="-1"></a>plt.clf()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-56-output-1.png" width="572" height="560" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<pre><code>&lt;Figure size 672x480 with 0 Axes&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-56-output-3.png" width="581" height="560" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<pre><code>&lt;Figure size 672x480 with 0 Axes&gt;</code></pre>
</div>
</div>
</section>
<section id="complex-jointplots" class="level2">
<h2 class="anchored" data-anchor-id="complex-jointplots">Complex jointplots</h2>
<p>The jointplot is a convenience wrapper around many of the JointGrid functions. However, it is possible to overlay some of the JointGrid plots on top of the standard jointplot. In this example, we can look at the different distributions for riders that are considered casual versus those that are registered.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Instructions
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Create a jointplot with a scatter plot comparing temp and casual riders. - Overlay a kdeplot on top of the scatter plot. - Build a similar plot for registered users.</li>
</ul>
</div>
</div>
<div id="d90f614d" class="cell" data-execution_count="56">
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a jointplot of temp vs. casual riders</span></span>
<span id="cb95-2"><a href="#cb95-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Include a kdeplot over the scatter plot</span></span>
<span id="cb95-3"><a href="#cb95-3" aria-hidden="true" tabindex="-1"></a>g <span class="op">=</span> sns.jointplot(x<span class="op">=</span><span class="st">"temp"</span>,</span>
<span id="cb95-4"><a href="#cb95-4" aria-hidden="true" tabindex="-1"></a>             y<span class="op">=</span><span class="st">"casual"</span>,</span>
<span id="cb95-5"><a href="#cb95-5" aria-hidden="true" tabindex="-1"></a>             kind<span class="op">=</span><span class="st">'scatter'</span>,</span>
<span id="cb95-6"><a href="#cb95-6" aria-hidden="true" tabindex="-1"></a>             data<span class="op">=</span>df,</span>
<span id="cb95-7"><a href="#cb95-7" aria-hidden="true" tabindex="-1"></a>             marginal_kws<span class="op">=</span><span class="bu">dict</span>(bins<span class="op">=</span><span class="dv">10</span>))</span>
<span id="cb95-8"><a href="#cb95-8" aria-hidden="true" tabindex="-1"></a>g.plot_joint(sns.kdeplot)</span>
<span id="cb95-9"><a href="#cb95-9" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb95-10"><a href="#cb95-10" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb95-11"><a href="#cb95-11" aria-hidden="true" tabindex="-1"></a>plt.clf()</span>
<span id="cb95-12"><a href="#cb95-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-13"><a href="#cb95-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Replicate the above plot but only for registered riders</span></span>
<span id="cb95-14"><a href="#cb95-14" aria-hidden="true" tabindex="-1"></a>g <span class="op">=</span> sns.jointplot(x<span class="op">=</span><span class="st">"temp"</span>,</span>
<span id="cb95-15"><a href="#cb95-15" aria-hidden="true" tabindex="-1"></a>             y<span class="op">=</span><span class="st">"registered"</span>,</span>
<span id="cb95-16"><a href="#cb95-16" aria-hidden="true" tabindex="-1"></a>             kind<span class="op">=</span><span class="st">'scatter'</span>,</span>
<span id="cb95-17"><a href="#cb95-17" aria-hidden="true" tabindex="-1"></a>             data<span class="op">=</span>df,</span>
<span id="cb95-18"><a href="#cb95-18" aria-hidden="true" tabindex="-1"></a>             marginal_kws<span class="op">=</span><span class="bu">dict</span>(bins<span class="op">=</span><span class="dv">10</span>))</span>
<span id="cb95-19"><a href="#cb95-19" aria-hidden="true" tabindex="-1"></a>g.plot_joint(sns.kdeplot)</span>
<span id="cb95-20"><a href="#cb95-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-21"><a href="#cb95-21" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb95-22"><a href="#cb95-22" aria-hidden="true" tabindex="-1"></a>plt.clf()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-57-output-1.png" width="573" height="560" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<pre><code>&lt;Figure size 672x480 with 0 Axes&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-57-output-3.png" width="572" height="560" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<pre><code>&lt;Figure size 672x480 with 0 Axes&gt;</code></pre>
</div>
</div>
</section>
<section id="bee-swarm-plot-example" class="level2">
<h2 class="anchored" data-anchor-id="bee-swarm-plot-example">Bee swarm plot example</h2>
<div id="a1302761" class="cell" data-execution_count="57">
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb98-2"><a href="#cb98-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb98-3"><a href="#cb98-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb98-4"><a href="#cb98-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Sample data (replace this with your own dataset)</span></span>
<span id="cb98-5"><a href="#cb98-5" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> sns.load_dataset(<span class="st">"iris"</span>)</span>
<span id="cb98-6"><a href="#cb98-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb98-7"><a href="#cb98-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a bee swarm plot using Seaborn</span></span>
<span id="cb98-8"><a href="#cb98-8" aria-hidden="true" tabindex="-1"></a>sns.<span class="bu">set</span>(style<span class="op">=</span><span class="st">"whitegrid"</span>)  <span class="co"># Set the style</span></span>
<span id="cb98-9"><a href="#cb98-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb98-10"><a href="#cb98-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Replace 'species' with the column name you want to plot</span></span>
<span id="cb98-11"><a href="#cb98-11" aria-hidden="true" tabindex="-1"></a>sns.swarmplot(x<span class="op">=</span><span class="st">"species"</span>, y<span class="op">=</span><span class="st">"sepal_length"</span>, data<span class="op">=</span>data)</span>
<span id="cb98-12"><a href="#cb98-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb98-13"><a href="#cb98-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Set plot labels and title</span></span>
<span id="cb98-14"><a href="#cb98-14" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"Species"</span>)</span>
<span id="cb98-15"><a href="#cb98-15" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"Sepal Length"</span>)</span>
<span id="cb98-16"><a href="#cb98-16" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Bee Swarm Plot of Sepal Length by Species"</span>)</span>
<span id="cb98-17"><a href="#cb98-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb98-18"><a href="#cb98-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Show the plot</span></span>
<span id="cb98-19"><a href="#cb98-19" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_Intermediate_Data_Visualization_with_Seaborn_files/figure-html/cell-58-output-1.png" width="593" height="455" class="figure-img"></p>
</figure>
</div>
</div>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./9_Python_Data_Science_Toolbox_Part2.html" class="pagination-link" aria-label="Python Data Science Toolbox (Part 2)">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Python Data Science Toolbox (Part 2)</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./Project-A_Visual_History_of_Nobel_Prize_Winners.html" class="pagination-link" aria-label="Project: A Visual History of Nobel Prize Winners">
        <span class="nav-page-text">Project: A Visual History of Nobel Prize Winners</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>